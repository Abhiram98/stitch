[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 38076
	 max depth: 253
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 33228
	 max depth: 226
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 16ms
got roots, treenodes, and cloned egraph contents: 99ms
num_paths_to_node(): 11ms
associate_tasks() and other task stuff: 4ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 3319ms
1005 zips
arg_of_zid_node size: 1005
Tracking setup: 0ms
arity 0: 4ms
got 1063 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3458ms
running pattern search...
TOTAL SEARCH: 15259ms
TOTAL PREP + SEARCH: 18718ms
Stats { worklist_steps: 403984, finished: 9, calc_final_utility: 22801, upper_bound_fired: 34411, free_vars_fired: 0, single_use_fired: 30108, single_task_fired: 19212, useless_abstract_fired: 278724, force_multiuse_fired: 2568 }
Cost before: 3906379
0: utility: 681041 | final_cost: 3224932 | 1.21x | uses: 2249 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
post stuff: 80ms
Chose Invention fn_0: utility: 681041 | final_cost: 3224932 | 1.21x | uses: 2249 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 13ms
got roots, treenodes, and cloned egraph contents: 52ms
num_paths_to_node(): 6ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 3447ms
967863 zips
arg_of_zid_node size: 967863
Tracking setup: 0ms
arity 0: 3ms
got 809 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3528ms
running pattern search...
TOTAL SEARCH: 6636ms
TOTAL PREP + SEARCH: 10165ms
Stats { worklist_steps: 236677, finished: 4, calc_final_utility: 18397, upper_bound_fired: 14103, free_vars_fired: 0, single_use_fired: 14940, single_task_fired: 14039, useless_abstract_fired: 144378, force_multiuse_fired: 1120 }
Cost before: 3224932
0: utility: 393797 | final_cost: 2830830 | 1.14x | uses: 1951 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
post stuff: 76ms
Chose Invention fn_1: utility: 393797 | final_cost: 2830830 | 1.14x | uses: 1951 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 34ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2199ms
898147 zips
arg_of_zid_node size: 898147
Tracking setup: 0ms
arity 0: 3ms
got 677 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2253ms
running pattern search...
TOTAL SEARCH: 4058ms
TOTAL PREP + SEARCH: 6311ms
Stats { worklist_steps: 161633, finished: 5, calc_final_utility: 16040, upper_bound_fired: 8771, free_vars_fired: 0, single_use_fired: 5176, single_task_fired: 11241, useless_abstract_fired: 107995, force_multiuse_fired: 317 }
Cost before: 2830830
0: utility: 310676 | final_cost: 2518336 | 1.12x | uses: 182 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
post stuff: 23ms
Chose Invention fn_2: utility: 310676 | final_cost: 2518336 | 1.12x | uses: 182 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 26ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1769ms
785001 zips
arg_of_zid_node size: 785001
Tracking setup: 0ms
arity 0: 2ms
got 677 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1813ms
running pattern search...
TOTAL SEARCH: 3488ms
TOTAL PREP + SEARCH: 5302ms
Stats { worklist_steps: 162911, finished: 4, calc_final_utility: 16195, upper_bound_fired: 8928, free_vars_fired: 0, single_use_fired: 5932, single_task_fired: 9783, useless_abstract_fired: 103194, force_multiuse_fired: 350 }
Cost before: 2518336
0: utility: 242297 | final_cost: 2275633 | 1.11x | uses: 801 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
post stuff: 37ms
Chose Invention fn_3: utility: 242297 | final_cost: 2275633 | 1.11x | uses: 801 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 19ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1258ms
578809 zips
arg_of_zid_node size: 578809
Tracking setup: 0ms
arity 0: 2ms
got 607 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1293ms
running pattern search...
TOTAL SEARCH: 3571ms
TOTAL PREP + SEARCH: 4864ms
Stats { worklist_steps: 257292, finished: 5, calc_final_utility: 21674, upper_bound_fired: 11657, free_vars_fired: 0, single_use_fired: 7003, single_task_fired: 8145, useless_abstract_fired: 167892, force_multiuse_fired: 407 }
Cost before: 2275633
0: utility: 144126 | final_cost: 2129991 | 1.07x | uses: 103 | body: [fn_4 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
post stuff: 18ms
Chose Invention fn_4: utility: 144126 | final_cost: 2129991 | 1.07x | uses: 103 | body: [fn_4 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 984ms
466151 zips
arg_of_zid_node size: 466151
Tracking setup: 0ms
arity 0: 2ms
got 608 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1014ms
running pattern search...
TOTAL SEARCH: 2674ms
TOTAL PREP + SEARCH: 3688ms
Stats { worklist_steps: 197835, finished: 4, calc_final_utility: 16691, upper_bound_fired: 12246, free_vars_fired: 0, single_use_fired: 6935, single_task_fired: 7218, useless_abstract_fired: 128476, force_multiuse_fired: 418 }
Cost before: 2129991
0: utility: 132108 | final_cost: 1997075 | 1.07x | uses: 188 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
post stuff: 13ms
Chose Invention fn_5: utility: 132108 | final_cost: 1997075 | 1.07x | uses: 188 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 777ms
399249 zips
arg_of_zid_node size: 399249
Tracking setup: 0ms
arity 0: 2ms
got 564 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 804ms
running pattern search...
TOTAL SEARCH: 2493ms
TOTAL PREP + SEARCH: 3298ms
Stats { worklist_steps: 209846, finished: 2, calc_final_utility: 16473, upper_bound_fired: 12340, free_vars_fired: 0, single_use_fired: 7579, single_task_fired: 6996, useless_abstract_fired: 131219, force_multiuse_fired: 403 }
Cost before: 1997075
0: utility: 120289 | final_cost: 1876279 | 1.06x | uses: 299 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
post stuff: 24ms
Chose Invention fn_6: utility: 120289 | final_cost: 1876279 | 1.06x | uses: 299 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 741ms
385501 zips
arg_of_zid_node size: 385501
Tracking setup: 0ms
arity 0: 2ms
got 555 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 769ms
running pattern search...
TOTAL SEARCH: 1724ms
TOTAL PREP + SEARCH: 2493ms
Stats { worklist_steps: 110200, finished: 2, calc_final_utility: 11853, upper_bound_fired: 9426, free_vars_fired: 0, single_use_fired: 7561, single_task_fired: 6996, useless_abstract_fired: 84526, force_multiuse_fired: 309 }
Cost before: 1876279
0: utility: 111401 | final_cost: 1764371 | 1.06x | uses: 277 | body: [fn_7 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
post stuff: 20ms
Chose Invention fn_7: utility: 111401 | final_cost: 1764371 | 1.06x | uses: 277 | body: [fn_7 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 718ms
375783 zips
arg_of_zid_node size: 375783
Tracking setup: 0ms
arity 0: 2ms
got 549 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 746ms
running pattern search...
TOTAL SEARCH: 1463ms
TOTAL PREP + SEARCH: 2210ms
Stats { worklist_steps: 84663, finished: 1, calc_final_utility: 10296, upper_bound_fired: 7843, free_vars_fired: 0, single_use_fired: 6488, single_task_fired: 7015, useless_abstract_fired: 68710, force_multiuse_fired: 203 }
Cost before: 1764371
0: utility: 108776 | final_cost: 1655291 | 1.07x | uses: 540 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
post stuff: 22ms
Chose Invention fn_8: utility: 108776 | final_cost: 1655291 | 1.07x | uses: 540 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 679ms
359227 zips
arg_of_zid_node size: 359227
Tracking setup: 0ms
arity 0: 2ms
got 550 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 706ms
running pattern search...
TOTAL SEARCH: 1269ms
TOTAL PREP + SEARCH: 1976ms
Stats { worklist_steps: 69365, finished: 6, calc_final_utility: 8988, upper_bound_fired: 6324, free_vars_fired: 0, single_use_fired: 4635, single_task_fired: 7015, useless_abstract_fired: 56691, force_multiuse_fired: 188 }
Cost before: 1655291
0: utility: 104131 | final_cost: 1550251 | 1.07x | uses: 130 | body: [fn_9 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
post stuff: 12ms
Chose Invention fn_9: utility: 104131 | final_cost: 1550251 | 1.07x | uses: 130 | body: [fn_9 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.52x better) 3906379 -> 1550251
[38;5;4mfn_0[0m (1.21x wrt orig): utility: 681041 | final_cost: 3224932 | 1.21x | uses: 2249 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4mfn_1[0m (1.38x wrt orig): utility: 393797 | final_cost: 2830830 | 1.14x | uses: 1951 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4mfn_2[0m (1.55x wrt orig): utility: 310676 | final_cost: 2518336 | 1.12x | uses: 182 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4mfn_3[0m (1.72x wrt orig): utility: 242297 | final_cost: 2275633 | 1.11x | uses: 801 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4mfn_4[0m (1.83x wrt orig): utility: 144126 | final_cost: 2129991 | 1.07x | uses: 103 | body: [fn_4 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4mfn_5[0m (1.96x wrt orig): utility: 132108 | final_cost: 1997075 | 1.07x | uses: 188 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
[38;5;4mfn_6[0m (2.08x wrt orig): utility: 120289 | final_cost: 1876279 | 1.06x | uses: 299 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
[38;5;4mfn_7[0m (2.21x wrt orig): utility: 111401 | final_cost: 1764371 | 1.06x | uses: 277 | body: [fn_7 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
[38;5;4mfn_8[0m (2.36x wrt orig): utility: 108776 | final_cost: 1655291 | 1.07x | uses: 540 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4mfn_9[0m (2.52x wrt orig): utility: 104131 | final_cost: 1550251 | 1.07x | uses: 130 | body: [fn_9 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
Time: 61326ms
Test set compression with all inventions applied: 2.5617803751420434
Wrote to "claim-2-out-50/castle/12.json"
	Command being timed: "../target/release/compress castle-12-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/12.json"
	User time (seconds): 61.29
	System time (seconds): 0.47
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:01.79
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 803488
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 375372
	Voluntary context switches: 1
	Involuntary context switches: 6093
	Swaps: 0
	File system inputs: 0
	File system outputs: 10656
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
