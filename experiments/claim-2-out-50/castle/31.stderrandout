[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 38076
	 max depth: 253
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 32218
	 max depth: 219
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 17ms
got roots, treenodes, and cloned egraph contents: 105ms
num_paths_to_node(): 11ms
associate_tasks() and other task stuff: 5ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 2871ms
1005 zips
arg_of_zid_node size: 1005
Tracking setup: 0ms
arity 0: 5ms
got 1096 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3020ms
running pattern search...
TOTAL SEARCH: 13991ms
TOTAL PREP + SEARCH: 17012ms
Stats { worklist_steps: 359978, finished: 9, calc_final_utility: 20826, upper_bound_fired: 33100, free_vars_fired: 0, single_use_fired: 28931, single_task_fired: 18787, useless_abstract_fired: 252603, force_multiuse_fired: 2356 }
Cost before: 3824973
0: utility: 672557 | final_cost: 3152010 | 1.21x | uses: 2221 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
post stuff: 79ms
Chose Invention fn_0: utility: 672557 | final_cost: 3152010 | 1.21x | uses: 2221 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 16ms
got roots, treenodes, and cloned egraph contents: 51ms
num_paths_to_node(): 6ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 3165ms
890119 zips
arg_of_zid_node size: 890119
Tracking setup: 0ms
arity 0: 3ms
got 824 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3248ms
running pattern search...
TOTAL SEARCH: 6294ms
TOTAL PREP + SEARCH: 9542ms
Stats { worklist_steps: 219329, finished: 4, calc_final_utility: 17011, upper_bound_fired: 13802, free_vars_fired: 0, single_use_fired: 15140, single_task_fired: 13660, useless_abstract_fired: 132646, force_multiuse_fired: 1028 }
Cost before: 3152010
0: utility: 391471 | final_cost: 2759423 | 1.14x | uses: 299 | body: [fn_1 arity=3: (#2 h (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
post stuff: 24ms
Chose Invention fn_1: utility: 391471 | final_cost: 2759423 | 1.14x | uses: 299 | body: [fn_1 arity=3: (#2 h (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 35ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2079ms
712867 zips
arg_of_zid_node size: 712867
Tracking setup: 0ms
arity 0: 3ms
got 715 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2135ms
running pattern search...
TOTAL SEARCH: 4688ms
TOTAL PREP + SEARCH: 6823ms
Stats { worklist_steps: 185229, finished: 7, calc_final_utility: 16285, upper_bound_fired: 12990, free_vars_fired: 0, single_use_fired: 13019, single_task_fired: 11300, useless_abstract_fired: 120443, force_multiuse_fired: 903 }
Cost before: 2759423
0: utility: 317544 | final_cost: 2440061 | 1.13x | uses: 186 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
post stuff: 19ms
Chose Invention fn_2: utility: 317544 | final_cost: 2440061 | 1.13x | uses: 186 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 29ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1724ms
605453 zips
arg_of_zid_node size: 605453
Tracking setup: 0ms
arity 0: 3ms
got 715 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1770ms
running pattern search...
TOTAL SEARCH: 3841ms
TOTAL PREP + SEARCH: 5612ms
Stats { worklist_steps: 175611, finished: 4, calc_final_utility: 15200, upper_bound_fired: 13296, free_vars_fired: 0, single_use_fired: 13972, single_task_fired: 9812, useless_abstract_fired: 116122, force_multiuse_fired: 999 }
Cost before: 2440061
0: utility: 260477 | final_cost: 2179279 | 1.12x | uses: 1291 | body: [fn_3 arity=3: (#2 (r #1) t (l #0))]
post stuff: 40ms
Chose Invention fn_3: utility: 260477 | final_cost: 2179279 | 1.12x | uses: 1291 | body: [fn_3 arity=3: (#2 (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 19ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1224ms
523165 zips
arg_of_zid_node size: 523165
Tracking setup: 0ms
arity 0: 2ms
got 626 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1259ms
running pattern search...
TOTAL SEARCH: 2500ms
TOTAL PREP + SEARCH: 3759ms
Stats { worklist_steps: 128419, finished: 3, calc_final_utility: 12478, upper_bound_fired: 9536, free_vars_fired: 0, single_use_fired: 7107, single_task_fired: 8076, useless_abstract_fired: 87656, force_multiuse_fired: 361 }
Cost before: 2179279
0: utility: 206543 | final_cost: 1972330 | 1.10x | uses: 683 | body: [fn_4 arity=3: (#2 (r #1) h (l #0) t)]
post stuff: 29ms
Chose Invention fn_4: utility: 206543 | final_cost: 1972330 | 1.10x | uses: 683 | body: [fn_4 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 13ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 768ms
372913 zips
arg_of_zid_node size: 372913
Tracking setup: 0ms
arity 0: 2ms
got 549 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 794ms
running pattern search...
TOTAL SEARCH: 2345ms
TOTAL PREP + SEARCH: 3140ms
Stats { worklist_steps: 171614, finished: 5, calc_final_utility: 14412, upper_bound_fired: 12880, free_vars_fired: 0, single_use_fired: 9077, single_task_fired: 6762, useless_abstract_fired: 115845, force_multiuse_fired: 468 }
Cost before: 1972330
0: utility: 117059 | final_cost: 1854362 | 1.06x | uses: 146 | body: [fn_5 arity=1: (fn_4 1 3 (#0 (r 1) t) (l 3) h)]
post stuff: 15ms
Chose Invention fn_5: utility: 117059 | final_cost: 1854362 | 1.06x | uses: 146 | body: [fn_5 arity=1: (fn_4 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 665ms
318903 zips
arg_of_zid_node size: 318903
Tracking setup: 0ms
arity 0: 4ms
got 537 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 691ms
running pattern search...
TOTAL SEARCH: 2123ms
TOTAL PREP + SEARCH: 2815ms
Stats { worklist_steps: 172864, finished: 3, calc_final_utility: 14083, upper_bound_fired: 13104, free_vars_fired: 0, single_use_fired: 9167, single_task_fired: 6398, useless_abstract_fired: 115631, force_multiuse_fired: 477 }
Cost before: 1854362
0: utility: 109381 | final_cost: 1744474 | 1.06x | uses: 272 | body: [fn_6 arity=3: (fn_0 4 5 (fn_3 #2 #1 #0 t))]
post stuff: 20ms
Chose Invention fn_6: utility: 109381 | final_cost: 1744474 | 1.06x | uses: 272 | body: [fn_6 arity=3: (fn_0 4 5 (fn_3 #2 #1 #0 t))]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 645ms
323957 zips
arg_of_zid_node size: 323957
Tracking setup: 0ms
arity 0: 2ms
got 530 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 669ms
running pattern search...
TOTAL SEARCH: 1761ms
TOTAL PREP + SEARCH: 2431ms
Stats { worklist_steps: 138014, finished: 2, calc_final_utility: 12272, upper_bound_fired: 11015, free_vars_fired: 0, single_use_fired: 7519, single_task_fired: 6419, useless_abstract_fired: 93789, force_multiuse_fired: 326 }
Cost before: 1744474
0: utility: 108977 | final_cost: 1634990 | 1.07x | uses: 271 | body: [fn_7 arity=3: (fn_3 #2 4 (fn_4 3 #1 #0) h)]
post stuff: 20ms
Chose Invention fn_7: utility: 108977 | final_cost: 1634990 | 1.07x | uses: 271 | body: [fn_7 arity=3: (fn_3 #2 4 (fn_4 3 #1 #0) h)]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 604ms
301709 zips
arg_of_zid_node size: 301709
Tracking setup: 0ms
arity 0: 2ms
got 522 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 628ms
running pattern search...
TOTAL SEARCH: 1193ms
TOTAL PREP + SEARCH: 1822ms
Stats { worklist_steps: 74353, finished: 1, calc_final_utility: 8408, upper_bound_fired: 7958, free_vars_fired: 0, single_use_fired: 6902, single_task_fired: 6418, useless_abstract_fired: 60840, force_multiuse_fired: 278 }
Cost before: 1634990
0: utility: 106756 | final_cost: 1527930 | 1.07x | uses: 530 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
post stuff: 20ms
Chose Invention fn_8: utility: 106756 | final_cost: 1527930 | 1.07x | uses: 530 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 574ms
287747 zips
arg_of_zid_node size: 287747
Tracking setup: 0ms
arity 0: 2ms
got 519 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 598ms
running pattern search...
TOTAL SEARCH: 1428ms
TOTAL PREP + SEARCH: 2026ms
Stats { worklist_steps: 101260, finished: 2, calc_final_utility: 11307, upper_bound_fired: 6834, free_vars_fired: 0, single_use_fired: 7584, single_task_fired: 6426, useless_abstract_fired: 77743, force_multiuse_fired: 294 }
Cost before: 1527930
0: utility: 76659 | final_cost: 1450968 | 1.05x | uses: 381 | body: [fn_9 arity=1: (#0 h (r 4))]
post stuff: 20ms
Chose Invention fn_9: utility: 76659 | final_cost: 1450968 | 1.05x | uses: 381 | body: [fn_9 arity=1: (#0 h (r 4))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.64x better) 3824973 -> 1450968
[38;5;4mfn_0[0m (1.21x wrt orig): utility: 672557 | final_cost: 3152010 | 1.21x | uses: 2221 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4mfn_1[0m (1.39x wrt orig): utility: 391471 | final_cost: 2759423 | 1.14x | uses: 299 | body: [fn_1 arity=3: (#2 h (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4mfn_2[0m (1.57x wrt orig): utility: 317544 | final_cost: 2440061 | 1.13x | uses: 186 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4mfn_3[0m (1.76x wrt orig): utility: 260477 | final_cost: 2179279 | 1.12x | uses: 1291 | body: [fn_3 arity=3: (#2 (r #1) t (l #0))]
[38;5;4mfn_4[0m (1.94x wrt orig): utility: 206543 | final_cost: 1972330 | 1.10x | uses: 683 | body: [fn_4 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4mfn_5[0m (2.06x wrt orig): utility: 117059 | final_cost: 1854362 | 1.06x | uses: 146 | body: [fn_5 arity=1: (fn_4 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4mfn_6[0m (2.19x wrt orig): utility: 109381 | final_cost: 1744474 | 1.06x | uses: 272 | body: [fn_6 arity=3: (fn_0 4 5 (fn_3 #2 #1 #0 t))]
[38;5;4mfn_7[0m (2.34x wrt orig): utility: 108977 | final_cost: 1634990 | 1.07x | uses: 271 | body: [fn_7 arity=3: (fn_3 #2 4 (fn_4 3 #1 #0) h)]
[38;5;4mfn_8[0m (2.50x wrt orig): utility: 106756 | final_cost: 1527930 | 1.07x | uses: 530 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4mfn_9[0m (2.64x wrt orig): utility: 76659 | final_cost: 1450968 | 1.05x | uses: 381 | body: [fn_9 arity=1: (#0 h (r 4))]
Time: 56946ms
Test set compression with all inventions applied: 2.4817142349256804
Wrote to "claim-2-out-50/castle/31.json"
	Command being timed: "../target/release/compress castle-31-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/31.json"
	User time (seconds): 56.88
	System time (seconds): 0.46
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:57.42
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 695480
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 285463
	Voluntary context switches: 1
	Involuntary context switches: 6066
	Swaps: 0
	File system inputs: 0
	File system outputs: 9608
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
