[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 38076
	 max depth: 253
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 37066
	 max depth: 246
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 17ms
got roots, treenodes, and cloned egraph contents: 97ms
num_paths_to_node(): 11ms
associate_tasks() and other task stuff: 5ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 2842ms
1005 zips
arg_of_zid_node size: 1005
Tracking setup: 0ms
arity 0: 4ms
got 1028 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2980ms
running pattern search...
TOTAL SEARCH: 14648ms
TOTAL PREP + SEARCH: 17629ms
Stats { worklist_steps: 377773, finished: 9, calc_final_utility: 21266, upper_bound_fired: 34263, free_vars_fired: 0, single_use_fired: 27362, single_task_fired: 19183, useless_abstract_fired: 267027, force_multiuse_fired: 2603 }
Cost before: 3874463
0: utility: 692858 | final_cost: 3181199 | 1.22x | uses: 2288 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
post stuff: 82ms
Chose Invention fn_0: utility: 692858 | final_cost: 3181199 | 1.22x | uses: 2288 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 11ms
got roots, treenodes, and cloned egraph contents: 53ms
num_paths_to_node(): 5ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 3595ms
918829 zips
arg_of_zid_node size: 918829
Tracking setup: 0ms
arity 0: 4ms
got 747 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3674ms
running pattern search...
TOTAL SEARCH: 6533ms
TOTAL PREP + SEARCH: 10208ms
Stats { worklist_steps: 223957, finished: 3, calc_final_utility: 17490, upper_bound_fired: 14102, free_vars_fired: 0, single_use_fired: 13242, single_task_fired: 13947, useless_abstract_fired: 139214, force_multiuse_fired: 1077 }
Cost before: 3181199
0: utility: 384707 | final_cost: 2796187 | 1.14x | uses: 1906 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
post stuff: 93ms
Chose Invention fn_1: utility: 384707 | final_cost: 2796187 | 1.14x | uses: 1906 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 10ms
got roots, treenodes, and cloned egraph contents: 34ms
num_paths_to_node(): 6ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2260ms
853251 zips
arg_of_zid_node size: 853251
Tracking setup: 0ms
arity 0: 4ms
got 636 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2320ms
running pattern search...
TOTAL SEARCH: 3944ms
TOTAL PREP + SEARCH: 6264ms
Stats { worklist_steps: 151602, finished: 5, calc_final_utility: 14858, upper_bound_fired: 8938, free_vars_fired: 0, single_use_fired: 5439, single_task_fired: 11178, useless_abstract_fired: 103309, force_multiuse_fired: 311 }
Cost before: 2796187
0: utility: 314110 | final_cost: 2480259 | 1.13x | uses: 184 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
post stuff: 24ms
Chose Invention fn_2: utility: 314110 | final_cost: 2480259 | 1.13x | uses: 184 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 25ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1782ms
741845 zips
arg_of_zid_node size: 741845
Tracking setup: 0ms
arity 0: 3ms
got 636 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1827ms
running pattern search...
TOTAL SEARCH: 3511ms
TOTAL PREP + SEARCH: 5338ms
Stats { worklist_steps: 148409, finished: 4, calc_final_utility: 15135, upper_bound_fired: 8897, free_vars_fired: 0, single_use_fired: 5953, single_task_fired: 9706, useless_abstract_fired: 100216, force_multiuse_fired: 350 }
Cost before: 2480259
0: utility: 236237 | final_cost: 2243616 | 1.11x | uses: 781 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
post stuff: 38ms
Chose Invention fn_3: utility: 236237 | final_cost: 2243616 | 1.11x | uses: 781 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 9ms
got roots, treenodes, and cloned egraph contents: 18ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1788ms
550085 zips
arg_of_zid_node size: 550085
Tracking setup: 0ms
arity 0: 4ms
got 583 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1826ms
running pattern search...
TOTAL SEARCH: 3708ms
TOTAL PREP + SEARCH: 5534ms
Stats { worklist_steps: 266253, finished: 4, calc_final_utility: 22391, upper_bound_fired: 11570, free_vars_fired: 0, single_use_fired: 7320, single_task_fired: 8069, useless_abstract_fired: 179912, force_multiuse_fired: 432 }
Cost before: 2243616
0: utility: 129986 | final_cost: 2112114 | 1.06x | uses: 93 | body: [fn_4 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
post stuff: 19ms
Chose Invention fn_4: utility: 129986 | final_cost: 2112114 | 1.06x | uses: 93 | body: [fn_4 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1261ms
444997 zips
arg_of_zid_node size: 444997
Tracking setup: 0ms
arity 0: 4ms
got 584 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1295ms
running pattern search...
TOTAL SEARCH: 2513ms
TOTAL PREP + SEARCH: 3809ms
Stats { worklist_steps: 178804, finished: 4, calc_final_utility: 15657, upper_bound_fired: 11691, free_vars_fired: 0, single_use_fired: 6772, single_task_fired: 7233, useless_abstract_fired: 121272, force_multiuse_fired: 430 }
Cost before: 2112114
0: utility: 127866 | final_cost: 1983440 | 1.06x | uses: 182 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
post stuff: 13ms
Chose Invention fn_5: utility: 127866 | final_cost: 1983440 | 1.06x | uses: 182 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 994ms
380551 zips
arg_of_zid_node size: 380551
Tracking setup: 0ms
arity 0: 4ms
got 546 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1026ms
running pattern search...
TOTAL SEARCH: 2515ms
TOTAL PREP + SEARCH: 3542ms
Stats { worklist_steps: 185646, finished: 2, calc_final_utility: 15650, upper_bound_fired: 12236, free_vars_fired: 0, single_use_fired: 7830, single_task_fired: 6993, useless_abstract_fired: 120529, force_multiuse_fired: 416 }
Cost before: 1983440
0: utility: 114633 | final_cost: 1868300 | 1.06x | uses: 285 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
post stuff: 26ms
Chose Invention fn_6: utility: 114633 | final_cost: 1868300 | 1.06x | uses: 285 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 13ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 886ms
368777 zips
arg_of_zid_node size: 368777
Tracking setup: 0ms
arity 0: 4ms
got 537 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 918ms
running pattern search...
TOTAL SEARCH: 1681ms
TOTAL PREP + SEARCH: 2599ms
Stats { worklist_steps: 100346, finished: 2, calc_final_utility: 11036, upper_bound_fired: 9241, free_vars_fired: 0, single_use_fired: 6697, single_task_fired: 6993, useless_abstract_fired: 79316, force_multiuse_fired: 315 }
Cost before: 1868300
0: utility: 110593 | final_cost: 1757200 | 1.06x | uses: 275 | body: [fn_7 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
post stuff: 21ms
Chose Invention fn_7: utility: 110593 | final_cost: 1757200 | 1.06x | uses: 275 | body: [fn_7 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 16ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 853ms
360055 zips
arg_of_zid_node size: 360055
Tracking setup: 0ms
arity 0: 3ms
got 527 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 884ms
running pattern search...
TOTAL SEARCH: 1396ms
TOTAL PREP + SEARCH: 2280ms
Stats { worklist_steps: 72921, finished: 1, calc_final_utility: 9389, upper_bound_fired: 7276, free_vars_fired: 0, single_use_fired: 5527, single_task_fired: 7020, useless_abstract_fired: 61738, force_multiuse_fired: 214 }
Cost before: 1757200
0: utility: 110392 | final_cost: 1646504 | 1.07x | uses: 548 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
post stuff: 25ms
Chose Invention fn_8: utility: 110392 | final_cost: 1646504 | 1.07x | uses: 548 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 753ms
342685 zips
arg_of_zid_node size: 342685
Tracking setup: 0ms
arity 0: 2ms
got 524 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 781ms
running pattern search...
TOTAL SEARCH: 1185ms
TOTAL PREP + SEARCH: 1967ms
Stats { worklist_steps: 61692, finished: 5, calc_final_utility: 8388, upper_bound_fired: 6076, free_vars_fired: 0, single_use_fired: 4177, single_task_fired: 7027, useless_abstract_fired: 51933, force_multiuse_fired: 184 }
Cost before: 1646504
0: utility: 102515 | final_cost: 1543080 | 1.07x | uses: 128 | body: [fn_9 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
post stuff: 12ms
Chose Invention fn_9: utility: 102515 | final_cost: 1543080 | 1.07x | uses: 128 | body: [fn_9 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.51x better) 3874463 -> 1543080
[38;5;4mfn_0[0m (1.22x wrt orig): utility: 692858 | final_cost: 3181199 | 1.22x | uses: 2288 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4mfn_1[0m (1.39x wrt orig): utility: 384707 | final_cost: 2796187 | 1.14x | uses: 1906 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4mfn_2[0m (1.56x wrt orig): utility: 314110 | final_cost: 2480259 | 1.13x | uses: 184 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4mfn_3[0m (1.73x wrt orig): utility: 236237 | final_cost: 2243616 | 1.11x | uses: 781 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4mfn_4[0m (1.83x wrt orig): utility: 129986 | final_cost: 2112114 | 1.06x | uses: 93 | body: [fn_4 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4mfn_5[0m (1.95x wrt orig): utility: 127866 | final_cost: 1983440 | 1.06x | uses: 182 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
[38;5;4mfn_6[0m (2.07x wrt orig): utility: 114633 | final_cost: 1868300 | 1.06x | uses: 285 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
[38;5;4mfn_7[0m (2.20x wrt orig): utility: 110593 | final_cost: 1757200 | 1.06x | uses: 275 | body: [fn_7 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
[38;5;4mfn_8[0m (2.35x wrt orig): utility: 110392 | final_cost: 1646504 | 1.07x | uses: 548 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4mfn_9[0m (2.51x wrt orig): utility: 102515 | final_cost: 1543080 | 1.07x | uses: 128 | body: [fn_9 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
Time: 62396ms
Test set compression with all inventions applied: 2.6009318565449626
Wrote to "claim-2-out-50/castle/45.json"
	Command being timed: "../target/release/compress castle-45-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/45.json"
	User time (seconds): 61.83
	System time (seconds): 1.06
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:02.92
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 769028
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 628512
	Voluntary context switches: 2
	Involuntary context switches: 6250
	Swaps: 0
	File system inputs: 0
	File system outputs: 10504
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
