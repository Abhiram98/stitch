[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 37066
	 max depth: 246
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 38076
	 max depth: 253
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 20ms
got roots, treenodes, and cloned egraph contents: 96ms
num_paths_to_node(): 14ms
associate_tasks() and other task stuff: 6ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 3ms
get_zippers(): 3353ms
977 zips
arg_of_zid_node size: 977
Tracking setup: 0ms
arity 0: 11ms
got 1054 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3505ms
running pattern search...
TOTAL SEARCH: 13761ms
TOTAL PREP + SEARCH: 17267ms
Stats { worklist_steps: 333966, finished: 10, calc_final_utility: 20607, upper_bound_fired: 31231, free_vars_fired: 0, single_use_fired: 27516, single_task_fired: 18881, useless_abstract_fired: 241231, force_multiuse_fired: 2189 }
Cost before: 3841840
0: utility: 679022 | final_cost: 3162312 | 1.21x | uses: 1682 | body: [fn_0 arity=2: (#1 h (r 4) h (l #0))]
post stuff: 56ms
Chose Invention fn_0: utility: 679022 | final_cost: 3162312 | 1.21x | uses: 1682 | body: [fn_0 arity=2: (#1 h (r 4) h (l #0))]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 13ms
got roots, treenodes, and cloned egraph contents: 57ms
num_paths_to_node(): 6ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 3184ms
801855 zips
arg_of_zid_node size: 801855
Tracking setup: 0ms
arity 0: 3ms
got 797 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3270ms
running pattern search...
TOTAL SEARCH: 7550ms
TOTAL PREP + SEARCH: 10821ms
Stats { worklist_steps: 282344, finished: 2, calc_final_utility: 20074, upper_bound_fired: 20595, free_vars_fired: 0, single_use_fired: 21483, single_task_fired: 15343, useless_abstract_fired: 175295, force_multiuse_fired: 1468 }
Cost before: 3162312
0: utility: 373597 | final_cost: 2788410 | 1.13x | uses: 1851 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
post stuff: 66ms
Chose Invention fn_1: utility: 373597 | final_cost: 2788410 | 1.13x | uses: 1851 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 40ms
num_paths_to_node(): 4ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2621ms
940453 zips
arg_of_zid_node size: 940453
Tracking setup: 0ms
arity 0: 3ms
got 686 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2683ms
running pattern search...
TOTAL SEARCH: 5032ms
TOTAL PREP + SEARCH: 7715ms
Stats { worklist_steps: 197113, finished: 5, calc_final_utility: 19660, upper_bound_fired: 13372, free_vars_fired: 0, single_use_fired: 8612, single_task_fired: 12658, useless_abstract_fired: 130203, force_multiuse_fired: 535 }
Cost before: 2788410
0: utility: 281689 | final_cost: 2505105 | 1.11x | uses: 187 | body: [fn_2 arity=1: (fn_0 2 (fn_0 6 (fn_0 10 (#0 h (r 4) h (r 4)) h (r 4))) h)]
post stuff: 21ms
Chose Invention fn_2: utility: 281689 | final_cost: 2505105 | 1.11x | uses: 187 | body: [fn_2 arity=1: (fn_0 2 (fn_0 6 (fn_0 10 (#0 h (r 4) h (r 4)) h (r 4))) h)]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 32ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1959ms
829195 zips
arg_of_zid_node size: 829195
Tracking setup: 0ms
arity 0: 3ms
got 686 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2011ms
running pattern search...
TOTAL SEARCH: 3703ms
TOTAL PREP + SEARCH: 5714ms
Stats { worklist_steps: 153077, finished: 3, calc_final_utility: 15582, upper_bound_fired: 11294, free_vars_fired: 0, single_use_fired: 8149, single_task_fired: 10975, useless_abstract_fired: 102332, force_multiuse_fired: 473 }
Cost before: 2505105
0: utility: 269163 | final_cost: 2235637 | 1.12x | uses: 1334 | body: [fn_3 arity=3: (#2 (r #1) h (l #0))]
post stuff: 61ms
Chose Invention fn_3: utility: 269163 | final_cost: 2235637 | 1.12x | uses: 1334 | body: [fn_3 arity=3: (#2 (r #1) h (l #0))]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 20ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1519ms
611007 zips
arg_of_zid_node size: 611007
Tracking setup: 0ms
arity 0: 3ms
got 637 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1558ms
running pattern search...
TOTAL SEARCH: 3885ms
TOTAL PREP + SEARCH: 5444ms
Stats { worklist_steps: 275291, finished: 6, calc_final_utility: 23087, upper_bound_fired: 13342, free_vars_fired: 0, single_use_fired: 9341, single_task_fired: 8931, useless_abstract_fired: 189042, force_multiuse_fired: 438 }
Cost before: 2235637
0: utility: 139885 | final_cost: 2094944 | 1.07x | uses: 199 | body: [fn_4 arity=1: (fn_3 1 3 (#0 t) t (l 3) h)]
post stuff: 16ms
Chose Invention fn_4: utility: 139885 | final_cost: 2094944 | 1.07x | uses: 199 | body: [fn_4 arity=1: (fn_3 1 3 (#0 t) t (l 3) h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 19ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1208ms
517925 zips
arg_of_zid_node size: 517925
Tracking setup: 0ms
arity 0: 2ms
got 606 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1245ms
running pattern search...
TOTAL SEARCH: 3406ms
TOTAL PREP + SEARCH: 4651ms
Stats { worklist_steps: 244921, finished: 5, calc_final_utility: 20832, upper_bound_fired: 12547, free_vars_fired: 0, single_use_fired: 8190, single_task_fired: 8521, useless_abstract_fired: 169745, force_multiuse_fired: 432 }
Cost before: 2094944
0: utility: 138470 | final_cost: 1954958 | 1.07x | uses: 99 | body: [fn_5 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
post stuff: 17ms
Chose Invention fn_5: utility: 138470 | final_cost: 1954958 | 1.07x | uses: 99 | body: [fn_5 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 851ms
414451 zips
arg_of_zid_node size: 414451
Tracking setup: 0ms
arity 0: 2ms
got 607 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 881ms
running pattern search...
TOTAL SEARCH: 2351ms
TOTAL PREP + SEARCH: 3232ms
Stats { worklist_steps: 165572, finished: 5, calc_final_utility: 14781, upper_bound_fired: 12571, free_vars_fired: 0, single_use_fired: 8194, single_task_fired: 7631, useless_abstract_fired: 113831, force_multiuse_fired: 409 }
Cost before: 1954958
0: utility: 134027 | final_cost: 1820022 | 1.07x | uses: 167 | body: [fn_6 arity=1: (fn_1 2 6 (fn_1 2 1 (#0 h) t) t)]
post stuff: 12ms
Chose Invention fn_6: utility: 134027 | final_cost: 1820022 | 1.07x | uses: 167 | body: [fn_6 arity=1: (fn_1 2 6 (fn_1 2 1 (#0 h) t) t)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 727ms
352845 zips
arg_of_zid_node size: 352845
Tracking setup: 0ms
arity 0: 2ms
got 558 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 755ms
running pattern search...
TOTAL SEARCH: 2146ms
TOTAL PREP + SEARCH: 2901ms
Stats { worklist_steps: 167073, finished: 7, calc_final_utility: 14141, upper_bound_fired: 13168, free_vars_fired: 0, single_use_fired: 8209, single_task_fired: 7316, useless_abstract_fired: 108821, force_multiuse_fired: 252 }
Cost before: 1820022
0: utility: 123821 | final_cost: 1695590 | 1.07x | uses: 121 | body: [fn_7 arity=3: (#1 (#2 (#1 (#2 (#1 (#0 t) h) t) h) t) h)]
post stuff: 15ms
Chose Invention fn_7: utility: 123821 | final_cost: 1695590 | 1.07x | uses: 121 | body: [fn_7 arity=3: (#1 (#2 (#1 (#2 (#1 (#0 t) h) t) h) t) h)]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 599ms
311071 zips
arg_of_zid_node size: 311071
Tracking setup: 0ms
arity 0: 2ms
got 544 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 625ms
running pattern search...
TOTAL SEARCH: 1343ms
TOTAL PREP + SEARCH: 1968ms
Stats { worklist_steps: 83099, finished: 4, calc_final_utility: 9690, upper_bound_fired: 10120, free_vars_fired: 0, single_use_fired: 8074, single_task_fired: 6745, useless_abstract_fired: 70445, force_multiuse_fired: 190 }
Cost before: 1695590
0: utility: 99081 | final_cost: 1596206 | 1.06x | uses: 492 | body: [fn_8 arity=1: (fn_0 2 #0 h)]
post stuff: 21ms
Chose Invention fn_8: utility: 99081 | final_cost: 1596206 | 1.06x | uses: 492 | body: [fn_8 arity=1: (fn_0 2 #0 h)]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 10ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 524ms
274533 zips
arg_of_zid_node size: 274533
Tracking setup: 0ms
arity 0: 2ms
got 478 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 546ms
running pattern search...
TOTAL SEARCH: 1556ms
TOTAL PREP + SEARCH: 2102ms
Stats { worklist_steps: 116877, finished: 2, calc_final_utility: 12490, upper_bound_fired: 11439, free_vars_fired: 0, single_use_fired: 11716, single_task_fired: 6496, useless_abstract_fired: 90209, force_multiuse_fired: 235 }
Cost before: 1596206
0: utility: 71407 | final_cost: 1524496 | 1.05x | uses: 355 | body: [fn_9 arity=1: (#0 h (r 4))]
post stuff: 19ms
Chose Invention fn_9: utility: 71407 | final_cost: 1524496 | 1.05x | uses: 355 | body: [fn_9 arity=1: (#0 h (r 4))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.52x better) 3841840 -> 1524496
[38;5;4mfn_0[0m (1.21x wrt orig): utility: 679022 | final_cost: 3162312 | 1.21x | uses: 1682 | body: [fn_0 arity=2: (#1 h (r 4) h (l #0))]
[38;5;4mfn_1[0m (1.38x wrt orig): utility: 373597 | final_cost: 2788410 | 1.13x | uses: 1851 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4mfn_2[0m (1.53x wrt orig): utility: 281689 | final_cost: 2505105 | 1.11x | uses: 187 | body: [fn_2 arity=1: (fn_0 2 (fn_0 6 (fn_0 10 (#0 h (r 4) h (r 4)) h (r 4))) h)]
[38;5;4mfn_3[0m (1.72x wrt orig): utility: 269163 | final_cost: 2235637 | 1.12x | uses: 1334 | body: [fn_3 arity=3: (#2 (r #1) h (l #0))]
[38;5;4mfn_4[0m (1.83x wrt orig): utility: 139885 | final_cost: 2094944 | 1.07x | uses: 199 | body: [fn_4 arity=1: (fn_3 1 3 (#0 t) t (l 3) h)]
[38;5;4mfn_5[0m (1.97x wrt orig): utility: 138470 | final_cost: 1954958 | 1.07x | uses: 99 | body: [fn_5 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4mfn_6[0m (2.11x wrt orig): utility: 134027 | final_cost: 1820022 | 1.07x | uses: 167 | body: [fn_6 arity=1: (fn_1 2 6 (fn_1 2 1 (#0 h) t) t)]
[38;5;4mfn_7[0m (2.27x wrt orig): utility: 123821 | final_cost: 1695590 | 1.07x | uses: 121 | body: [fn_7 arity=3: (#1 (#2 (#1 (#2 (#1 (#0 t) h) t) h) t) h)]
[38;5;4mfn_8[0m (2.41x wrt orig): utility: 99081 | final_cost: 1596206 | 1.06x | uses: 492 | body: [fn_8 arity=1: (fn_0 2 #0 h)]
[38;5;4mfn_9[0m (2.52x wrt orig): utility: 71407 | final_cost: 1524496 | 1.05x | uses: 355 | body: [fn_9 arity=1: (#0 h (r 4))]
Time: 64252ms
Test set compression with all inventions applied: 2.4735412472180442
Wrote to "claim-2-out-50/castle/21.json"
	Command being timed: "../target/release/compress castle-21-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/21.json"
	User time (seconds): 64.19
	System time (seconds): 0.47
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:04.73
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 711416
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 399493
	Voluntary context switches: 1
	Involuntary context switches: 6676
	Swaps: 0
	File system inputs: 0
	File system outputs: 9784
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
