[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 38076
	 max depth: 253
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 32016
	 max depth: 213
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 20ms
got roots, treenodes, and cloned egraph contents: 96ms
num_paths_to_node(): 15ms
associate_tasks() and other task stuff: 6ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 3ms
get_zippers(): 3506ms
1005 zips
arg_of_zid_node size: 1005
Tracking setup: 0ms
arity 0: 9ms
got 1128 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3659ms
running pattern search...
TOTAL SEARCH: 15055ms
TOTAL PREP + SEARCH: 18715ms
Stats { worklist_steps: 376327, finished: 10, calc_final_utility: 22277, upper_bound_fired: 33148, free_vars_fired: 0, single_use_fired: 30513, single_task_fired: 19164, useless_abstract_fired: 263037, force_multiuse_fired: 2374 }
Cost before: 3882644
0: utility: 668618 | final_cost: 3213620 | 1.21x | uses: 2208 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
post stuff: 84ms
Chose Invention fn_0: utility: 668618 | final_cost: 3213620 | 1.21x | uses: 2208 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 13ms
got roots, treenodes, and cloned egraph contents: 49ms
num_paths_to_node(): 5ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 3619ms
938431 zips
arg_of_zid_node size: 938431
Tracking setup: 0ms
arity 0: 3ms
got 847 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3697ms
running pattern search...
TOTAL SEARCH: 6392ms
TOTAL PREP + SEARCH: 10089ms
Stats { worklist_steps: 223030, finished: 5, calc_final_utility: 17355, upper_bound_fired: 13494, free_vars_fired: 0, single_use_fired: 14943, single_task_fired: 14088, useless_abstract_fired: 136146, force_multiuse_fired: 1024 }
Cost before: 3213620
0: utility: 415105 | final_cost: 2797399 | 1.15x | uses: 317 | body: [fn_1 arity=3: (#2 h (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
post stuff: 24ms
Chose Invention fn_1: utility: 415105 | final_cost: 2797399 | 1.15x | uses: 317 | body: [fn_1 arity=3: (#2 h (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 34ms
num_paths_to_node(): 4ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2112ms
733083 zips
arg_of_zid_node size: 733083
Tracking setup: 0ms
arity 0: 3ms
got 720 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2166ms
running pattern search...
TOTAL SEARCH: 5036ms
TOTAL PREP + SEARCH: 7203ms
Stats { worklist_steps: 200844, finished: 7, calc_final_utility: 17509, upper_bound_fired: 12465, free_vars_fired: 0, single_use_fired: 12357, single_task_fired: 11604, useless_abstract_fired: 128986, force_multiuse_fired: 1000 }
Cost before: 2797399
0: utility: 312393 | final_cost: 2483188 | 1.13x | uses: 183 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
post stuff: 20ms
Chose Invention fn_2: utility: 312393 | final_cost: 2483188 | 1.13x | uses: 183 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 29ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1716ms
622591 zips
arg_of_zid_node size: 622591
Tracking setup: 0ms
arity 0: 3ms
got 720 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1762ms
running pattern search...
TOTAL SEARCH: 4271ms
TOTAL PREP + SEARCH: 6034ms
Stats { worklist_steps: 190549, finished: 6, calc_final_utility: 16795, upper_bound_fired: 13149, free_vars_fired: 0, single_use_fired: 13409, single_task_fired: 10140, useless_abstract_fired: 123709, force_multiuse_fired: 1070 }
Cost before: 2483188
0: utility: 269870 | final_cost: 2212306 | 1.12x | uses: 298 | body: [fn_3 arity=3: (#2 (r #1) h (l 3) t (r 4) t (l #0) h)]
post stuff: 21ms
Chose Invention fn_3: utility: 269870 | final_cost: 2212306 | 1.12x | uses: 298 | body: [fn_3 arity=3: (#2 (r #1) h (l 3) t (r 4) t (l #0) h)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 18ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1207ms
509297 zips
arg_of_zid_node size: 509297
Tracking setup: 0ms
arity 0: 3ms
got 732 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1241ms
running pattern search...
TOTAL SEARCH: 2086ms
TOTAL PREP + SEARCH: 3327ms
Stats { worklist_steps: 100043, finished: 4, calc_final_utility: 10128, upper_bound_fired: 11560, free_vars_fired: 0, single_use_fired: 9467, single_task_fired: 8054, useless_abstract_fired: 78241, force_multiuse_fired: 688 }
Cost before: 2212306
0: utility: 215633 | final_cost: 1996267 | 1.11x | uses: 713 | body: [fn_4 arity=3: (#2 (r #1) t (l #0) t)]
post stuff: 25ms
Chose Invention fn_4: utility: 215633 | final_cost: 1996267 | 1.11x | uses: 713 | body: [fn_4 arity=3: (#2 (r #1) t (l #0) t)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 13ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 780ms
382743 zips
arg_of_zid_node size: 382743
Tracking setup: 0ms
arity 0: 2ms
got 641 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 806ms
running pattern search...
TOTAL SEARCH: 1556ms
TOTAL PREP + SEARCH: 2363ms
Stats { worklist_steps: 96677, finished: 6, calc_final_utility: 8907, upper_bound_fired: 14825, free_vars_fired: 0, single_use_fired: 9943, single_task_fired: 6677, useless_abstract_fired: 76317, force_multiuse_fired: 503 }
Cost before: 1996267
0: utility: 157254 | final_cost: 1838101 | 1.09x | uses: 174 | body: [fn_5 arity=3: (#2 (r 4) h (l #0) t (r #1) t (l #0) h)]
post stuff: 11ms
Chose Invention fn_5: utility: 157254 | final_cost: 1838101 | 1.09x | uses: 174 | body: [fn_5 arity=3: (#2 (r 4) h (l #0) t (r #1) t (l #0) h)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 10ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 660ms
326599 zips
arg_of_zid_node size: 326599
Tracking setup: 0ms
arity 0: 2ms
got 538 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 682ms
running pattern search...
TOTAL SEARCH: 1195ms
TOTAL PREP + SEARCH: 1877ms
Stats { worklist_steps: 73128, finished: 6, calc_final_utility: 6883, upper_bound_fired: 13584, free_vars_fired: 0, single_use_fired: 8851, single_task_fired: 6185, useless_abstract_fired: 62426, force_multiuse_fired: 276 }
Cost before: 1838101
0: utility: 155338 | final_cost: 1681753 | 1.09x | uses: 172 | body: [fn_6 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
post stuff: 12ms
Chose Invention fn_6: utility: 155338 | final_cost: 1681753 | 1.09x | uses: 172 | body: [fn_6 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 8ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 475ms
239475 zips
arg_of_zid_node size: 239475
Tracking setup: 0ms
arity 0: 2ms
got 501 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 495ms
running pattern search...
TOTAL SEARCH: 1330ms
TOTAL PREP + SEARCH: 1825ms
Stats { worklist_steps: 101217, finished: 1, calc_final_utility: 9237, upper_bound_fired: 15539, free_vars_fired: 0, single_use_fired: 12120, single_task_fired: 5650, useless_abstract_fired: 81573, force_multiuse_fired: 281 }
Cost before: 1681753
0: utility: 99485 | final_cost: 1581965 | 1.06x | uses: 494 | body: [fn_7 arity=1: (#0 (r 4) h)]
post stuff: 23ms
Chose Invention fn_7: utility: 99485 | final_cost: 1581965 | 1.06x | uses: 494 | body: [fn_7 arity=1: (#0 (r 4) h)]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 7ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 351ms
195387 zips
arg_of_zid_node size: 195387
Tracking setup: 0ms
arity 0: 2ms
got 495 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 369ms
running pattern search...
TOTAL SEARCH: 1044ms
TOTAL PREP + SEARCH: 1413ms
Stats { worklist_steps: 90772, finished: 0, calc_final_utility: 7005, upper_bound_fired: 17540, free_vars_fired: 0, single_use_fired: 11631, single_task_fired: 5208, useless_abstract_fired: 77998, force_multiuse_fired: 165 }
Cost before: 1581965
0: utility: 98274 | final_cost: 1483389 | 1.07x | uses: 488 | body: [fn_8 arity=0: (fn_0 2 4)]
post stuff: 8ms
Chose Invention fn_8: utility: 98274 | final_cost: 1483389 | 1.07x | uses: 488 | body: [fn_8 arity=0: (fn_0 2 4)]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 7ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 334ms
185875 zips
arg_of_zid_node size: 185875
Tracking setup: 0ms
arity 0: 2ms
got 494 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 352ms
running pattern search...
TOTAL SEARCH: 1115ms
TOTAL PREP + SEARCH: 1467ms
Stats { worklist_steps: 106513, finished: 1, calc_final_utility: 7812, upper_bound_fired: 18158, free_vars_fired: 0, single_use_fired: 12887, single_task_fired: 5224, useless_abstract_fired: 89813, force_multiuse_fired: 184 }
Cost before: 1483389
0: utility: 81603 | final_cost: 1401781 | 1.06x | uses: 210 | body: [fn_9 arity=3: (#1 (#2 (#1 (#2 (#1 #0)))))]
post stuff: 12ms
Chose Invention fn_9: utility: 81603 | final_cost: 1401781 | 1.06x | uses: 210 | body: [fn_9 arity=3: (#1 (#2 (#1 (#2 (#1 #0)))))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.77x better) 3882644 -> 1401781
[38;5;4mfn_0[0m (1.21x wrt orig): utility: 668618 | final_cost: 3213620 | 1.21x | uses: 2208 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4mfn_1[0m (1.39x wrt orig): utility: 415105 | final_cost: 2797399 | 1.15x | uses: 317 | body: [fn_1 arity=3: (#2 h (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4mfn_2[0m (1.56x wrt orig): utility: 312393 | final_cost: 2483188 | 1.13x | uses: 183 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4mfn_3[0m (1.76x wrt orig): utility: 269870 | final_cost: 2212306 | 1.12x | uses: 298 | body: [fn_3 arity=3: (#2 (r #1) h (l 3) t (r 4) t (l #0) h)]
[38;5;4mfn_4[0m (1.94x wrt orig): utility: 215633 | final_cost: 1996267 | 1.11x | uses: 713 | body: [fn_4 arity=3: (#2 (r #1) t (l #0) t)]
[38;5;4mfn_5[0m (2.11x wrt orig): utility: 157254 | final_cost: 1838101 | 1.09x | uses: 174 | body: [fn_5 arity=3: (#2 (r 4) h (l #0) t (r #1) t (l #0) h)]
[38;5;4mfn_6[0m (2.31x wrt orig): utility: 155338 | final_cost: 1681753 | 1.09x | uses: 172 | body: [fn_6 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4mfn_7[0m (2.45x wrt orig): utility: 99485 | final_cost: 1581965 | 1.06x | uses: 494 | body: [fn_7 arity=1: (#0 (r 4) h)]
[38;5;4mfn_8[0m (2.62x wrt orig): utility: 98274 | final_cost: 1483389 | 1.07x | uses: 488 | body: [fn_8 arity=0: (fn_0 2 4)]
[38;5;4mfn_9[0m (2.77x wrt orig): utility: 81603 | final_cost: 1401781 | 1.06x | uses: 210 | body: [fn_9 arity=3: (#1 (#2 (#1 (#2 (#1 #0)))))]
Time: 56065ms
Test set compression with all inventions applied: 2.794268434082291
Wrote to "claim-2-out-50/castle/4.json"
	Command being timed: "../target/release/compress castle-4-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/4.json"
	User time (seconds): 55.99
	System time (seconds): 0.45
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:56.47
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 776164
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 366990
	Voluntary context switches: 2
	Involuntary context switches: 5581
	Swaps: 0
	File system inputs: 0
	File system outputs: 8280
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
