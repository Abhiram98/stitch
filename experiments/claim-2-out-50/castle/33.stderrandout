[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 38076
	 max depth: 253
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 32723
	 max depth: 227
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 15ms
got roots, treenodes, and cloned egraph contents: 103ms
num_paths_to_node(): 10ms
associate_tasks() and other task stuff: 4ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 2ms
get_zippers(): 3101ms
1005 zips
arg_of_zid_node size: 1005
Tracking setup: 0ms
arity 0: 4ms
got 1094 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3243ms
running pattern search...
TOTAL SEARCH: 15150ms
TOTAL PREP + SEARCH: 18393ms
Stats { worklist_steps: 367257, finished: 10, calc_final_utility: 21455, upper_bound_fired: 33093, free_vars_fired: 0, single_use_fired: 31603, single_task_fired: 18626, useless_abstract_fired: 259381, force_multiuse_fired: 2328 }
Cost before: 3794976
0: utility: 665891 | final_cost: 3128679 | 1.21x | uses: 2199 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
post stuff: 81ms
Chose Invention fn_0: utility: 665891 | final_cost: 3128679 | 1.21x | uses: 2199 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 13ms
got roots, treenodes, and cloned egraph contents: 49ms
num_paths_to_node(): 6ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 3642ms
914683 zips
arg_of_zid_node size: 914683
Tracking setup: 0ms
arity 0: 5ms
got 828 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3722ms
running pattern search...
TOTAL SEARCH: 6269ms
TOTAL PREP + SEARCH: 9991ms
Stats { worklist_steps: 227681, finished: 3, calc_final_utility: 17680, upper_bound_fired: 13980, free_vars_fired: 0, single_use_fired: 14883, single_task_fired: 13561, useless_abstract_fired: 139267, force_multiuse_fired: 1071 }
Cost before: 3128679
0: utility: 379657 | final_cost: 2748717 | 1.14x | uses: 1881 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
post stuff: 79ms
Chose Invention fn_1: utility: 379657 | final_cost: 2748717 | 1.14x | uses: 1881 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 32ms
num_paths_to_node(): 4ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2410ms
844559 zips
arg_of_zid_node size: 844559
Tracking setup: 0ms
arity 0: 3ms
got 697 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2461ms
running pattern search...
TOTAL SEARCH: 3832ms
TOTAL PREP + SEARCH: 6294ms
Stats { worklist_steps: 154865, finished: 5, calc_final_utility: 14968, upper_bound_fired: 8881, free_vars_fired: 0, single_use_fired: 5548, single_task_fired: 10898, useless_abstract_fired: 102770, force_multiuse_fired: 299 }
Cost before: 2748717
0: utility: 305525 | final_cost: 2441374 | 1.13x | uses: 179 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
post stuff: 23ms
Chose Invention fn_2: utility: 305525 | final_cost: 2441374 | 1.13x | uses: 179 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 25ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1946ms
738717 zips
arg_of_zid_node size: 738717
Tracking setup: 0ms
arity 0: 4ms
got 697 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1990ms
running pattern search...
TOTAL SEARCH: 3394ms
TOTAL PREP + SEARCH: 5384ms
Stats { worklist_steps: 161899, finished: 4, calc_final_utility: 15766, upper_bound_fired: 8967, free_vars_fired: 0, single_use_fired: 5956, single_task_fired: 9465, useless_abstract_fired: 99972, force_multiuse_fired: 319 }
Cost before: 2441374
0: utility: 234419 | final_cost: 2206549 | 1.11x | uses: 775 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
post stuff: 38ms
Chose Invention fn_3: utility: 234419 | final_cost: 2206549 | 1.11x | uses: 775 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 17ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1359ms
547491 zips
arg_of_zid_node size: 547491
Tracking setup: 0ms
arity 0: 3ms
got 626 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1393ms
running pattern search...
TOTAL SEARCH: 3165ms
TOTAL PREP + SEARCH: 4559ms
Stats { worklist_steps: 225606, finished: 3, calc_final_utility: 19323, upper_bound_fired: 12619, free_vars_fired: 0, single_use_fired: 7778, single_task_fired: 7818, useless_abstract_fired: 142302, force_multiuse_fired: 393 }
Cost before: 2206549
0: utility: 131401 | final_cost: 2074340 | 1.06x | uses: 187 | body: [fn_4 arity=1: (fn_1 1 2 (fn_1 6 2 #0 t) h)]
post stuff: 24ms
Chose Invention fn_4: utility: 131401 | final_cost: 2074340 | 1.06x | uses: 187 | body: [fn_4 arity=1: (fn_1 1 2 (fn_1 6 2 #0 t) h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 16ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1320ms
473051 zips
arg_of_zid_node size: 473051
Tracking setup: 0ms
arity 0: 4ms
got 623 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1353ms
running pattern search...
TOTAL SEARCH: 2549ms
TOTAL PREP + SEARCH: 3903ms
Stats { worklist_steps: 178205, finished: 3, calc_final_utility: 15948, upper_bound_fired: 12151, free_vars_fired: 0, single_use_fired: 6890, single_task_fired: 7264, useless_abstract_fired: 116278, force_multiuse_fired: 362 }
Cost before: 2074340
0: utility: 131401 | final_cost: 1942131 | 1.07x | uses: 187 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
post stuff: 13ms
Chose Invention fn_5: utility: 131401 | final_cost: 1942131 | 1.07x | uses: 187 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 947ms
397347 zips
arg_of_zid_node size: 397347
Tracking setup: 0ms
arity 0: 3ms
got 585 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 978ms
running pattern search...
TOTAL SEARCH: 2574ms
TOTAL PREP + SEARCH: 3553ms
Stats { worklist_steps: 203777, finished: 2, calc_final_utility: 16390, upper_bound_fired: 12483, free_vars_fired: 0, single_use_fired: 7719, single_task_fired: 7061, useless_abstract_fired: 126005, force_multiuse_fired: 359 }
Cost before: 1942131
0: utility: 115845 | final_cost: 1825779 | 1.06x | uses: 288 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
post stuff: 24ms
Chose Invention fn_6: utility: 115845 | final_cost: 1825779 | 1.06x | uses: 288 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 795ms
382221 zips
arg_of_zid_node size: 382221
Tracking setup: 0ms
arity 0: 2ms
got 576 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 825ms
running pattern search...
TOTAL SEARCH: 1727ms
TOTAL PREP + SEARCH: 2553ms
Stats { worklist_steps: 94819, finished: 2, calc_final_utility: 11445, upper_bound_fired: 9004, free_vars_fired: 0, single_use_fired: 7381, single_task_fired: 7074, useless_abstract_fired: 76077, force_multiuse_fired: 296 }
Cost before: 1825779
0: utility: 107363 | final_cost: 1717507 | 1.06x | uses: 134 | body: [fn_7 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
post stuff: 13ms
Chose Invention fn_7: utility: 107363 | final_cost: 1717507 | 1.06x | uses: 134 | body: [fn_7 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 13ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 686ms
329039 zips
arg_of_zid_node size: 329039
Tracking setup: 0ms
arity 0: 2ms
got 564 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 714ms
running pattern search...
TOTAL SEARCH: 1417ms
TOTAL PREP + SEARCH: 2131ms
Stats { worklist_steps: 80302, finished: 1, calc_final_utility: 9839, upper_bound_fired: 9040, free_vars_fired: 0, single_use_fired: 6869, single_task_fired: 6735, useless_abstract_fired: 67062, force_multiuse_fired: 290 }
Cost before: 1717507
0: utility: 106958 | final_cost: 1610245 | 1.07x | uses: 531 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
post stuff: 24ms
Chose Invention fn_8: utility: 106958 | final_cost: 1610245 | 1.07x | uses: 531 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 17ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 775ms
314923 zips
arg_of_zid_node size: 314923
Tracking setup: 0ms
arity 0: 4ms
got 563 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 810ms
running pattern search...
TOTAL SEARCH: 1370ms
TOTAL PREP + SEARCH: 2181ms
Stats { worklist_steps: 76671, finished: 4, calc_final_utility: 9491, upper_bound_fired: 7485, free_vars_fired: 0, single_use_fired: 5619, single_task_fired: 6716, useless_abstract_fired: 62792, force_multiuse_fired: 265 }
Cost before: 1610245
0: utility: 96049 | final_cost: 1513689 | 1.06x | uses: 239 | body: [fn_9 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
post stuff: 18ms
Chose Invention fn_9: utility: 96049 | final_cost: 1513689 | 1.06x | uses: 239 | body: [fn_9 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.51x better) 3794976 -> 1513689
[38;5;4mfn_0[0m (1.21x wrt orig): utility: 665891 | final_cost: 3128679 | 1.21x | uses: 2199 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4mfn_1[0m (1.38x wrt orig): utility: 379657 | final_cost: 2748717 | 1.14x | uses: 1881 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4mfn_2[0m (1.55x wrt orig): utility: 305525 | final_cost: 2441374 | 1.13x | uses: 179 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4mfn_3[0m (1.72x wrt orig): utility: 234419 | final_cost: 2206549 | 1.11x | uses: 775 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4mfn_4[0m (1.83x wrt orig): utility: 131401 | final_cost: 2074340 | 1.06x | uses: 187 | body: [fn_4 arity=1: (fn_1 1 2 (fn_1 6 2 #0 t) h)]
[38;5;4mfn_5[0m (1.95x wrt orig): utility: 131401 | final_cost: 1942131 | 1.07x | uses: 187 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
[38;5;4mfn_6[0m (2.08x wrt orig): utility: 115845 | final_cost: 1825779 | 1.06x | uses: 288 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
[38;5;4mfn_7[0m (2.21x wrt orig): utility: 107363 | final_cost: 1717507 | 1.06x | uses: 134 | body: [fn_7 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4mfn_8[0m (2.36x wrt orig): utility: 106958 | final_cost: 1610245 | 1.07x | uses: 531 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4mfn_9[0m (2.51x wrt orig): utility: 96049 | final_cost: 1513689 | 1.06x | uses: 239 | body: [fn_9 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
Time: 61851ms
Test set compression with all inventions applied: 2.5280908447904675
Wrote to "claim-2-out-50/castle/33.json"
	Command being timed: "../target/release/compress castle-33-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/33.json"
	User time (seconds): 61.55
	System time (seconds): 0.80
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:02.39
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 729672
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 715350
	Voluntary context switches: 1
	Involuntary context switches: 6277
	Swaps: 0
	File system inputs: 0
	File system outputs: 10336
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
