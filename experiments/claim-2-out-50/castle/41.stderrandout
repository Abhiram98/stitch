[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 38076
	 max depth: 253
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 33228
	 max depth: 226
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 17ms
got roots, treenodes, and cloned egraph contents: 97ms
num_paths_to_node(): 11ms
associate_tasks() and other task stuff: 5ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 2656ms
1005 zips
arg_of_zid_node size: 1005
Tracking setup: 0ms
arity 0: 5ms
got 1066 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2795ms
running pattern search...
TOTAL SEARCH: 13146ms
TOTAL PREP + SEARCH: 15942ms
Stats { worklist_steps: 333645, finished: 9, calc_final_utility: 20334, upper_bound_fired: 30803, free_vars_fired: 0, single_use_fired: 25852, single_task_fired: 18621, useless_abstract_fired: 245134, force_multiuse_fired: 2301 }
Cost before: 3776493
0: utility: 674981 | final_cost: 3101106 | 1.22x | uses: 2229 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
post stuff: 84ms
Chose Invention fn_0: utility: 674981 | final_cost: 3101106 | 1.22x | uses: 2229 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 9ms
got roots, treenodes, and cloned egraph contents: 52ms
num_paths_to_node(): 5ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 3368ms
882151 zips
arg_of_zid_node size: 882151
Tracking setup: 0ms
arity 0: 9ms
got 796 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3448ms
running pattern search...
TOTAL SEARCH: 6217ms
TOTAL PREP + SEARCH: 9666ms
Stats { worklist_steps: 233677, finished: 3, calc_final_utility: 18402, upper_bound_fired: 13932, free_vars_fired: 0, single_use_fired: 15204, single_task_fired: 13490, useless_abstract_fired: 143379, force_multiuse_fired: 1074 }
Cost before: 3101106
0: utility: 366729 | final_cost: 2734072 | 1.13x | uses: 1817 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
post stuff: 73ms
Chose Invention fn_1: utility: 366729 | final_cost: 2734072 | 1.13x | uses: 1817 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 32ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2044ms
814911 zips
arg_of_zid_node size: 814911
Tracking setup: 0ms
arity 0: 3ms
got 678 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2095ms
running pattern search...
TOTAL SEARCH: 3603ms
TOTAL PREP + SEARCH: 5698ms
Stats { worklist_steps: 144876, finished: 5, calc_final_utility: 14545, upper_bound_fired: 8744, free_vars_fired: 0, single_use_fired: 5600, single_task_fired: 10875, useless_abstract_fired: 99833, force_multiuse_fired: 303 }
Cost before: 2734072
0: utility: 317544 | final_cost: 2414710 | 1.13x | uses: 186 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
post stuff: 22ms
Chose Invention fn_2: utility: 317544 | final_cost: 2414710 | 1.13x | uses: 186 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 25ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1650ms
710339 zips
arg_of_zid_node size: 710339
Tracking setup: 0ms
arity 0: 3ms
got 678 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1693ms
running pattern search...
TOTAL SEARCH: 3210ms
TOTAL PREP + SEARCH: 4904ms
Stats { worklist_steps: 152243, finished: 4, calc_final_utility: 15593, upper_bound_fired: 8911, free_vars_fired: 0, single_use_fired: 6172, single_task_fired: 9387, useless_abstract_fired: 98978, force_multiuse_fired: 326 }
Cost before: 2414710
0: utility: 224723 | final_cost: 2189581 | 1.10x | uses: 743 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
post stuff: 34ms
Chose Invention fn_3: utility: 224723 | final_cost: 2189581 | 1.10x | uses: 743 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 18ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1206ms
526749 zips
arg_of_zid_node size: 526749
Tracking setup: 0ms
arity 0: 2ms
got 608 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1240ms
running pattern search...
TOTAL SEARCH: 3270ms
TOTAL PREP + SEARCH: 4511ms
Stats { worklist_steps: 242526, finished: 6, calc_final_utility: 20746, upper_bound_fired: 11101, free_vars_fired: 0, single_use_fired: 6619, single_task_fired: 7885, useless_abstract_fired: 163943, force_multiuse_fired: 372 }
Cost before: 2189581
0: utility: 138470 | final_cost: 2049595 | 1.07x | uses: 99 | body: [fn_4 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
post stuff: 17ms
Chose Invention fn_4: utility: 138470 | final_cost: 2049595 | 1.07x | uses: 99 | body: [fn_4 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 852ms
425647 zips
arg_of_zid_node size: 425647
Tracking setup: 0ms
arity 0: 2ms
got 610 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 880ms
running pattern search...
TOTAL SEARCH: 2414ms
TOTAL PREP + SEARCH: 3295ms
Stats { worklist_steps: 186846, finished: 3, calc_final_utility: 16208, upper_bound_fired: 12034, free_vars_fired: 0, single_use_fired: 7691, single_task_fired: 6994, useless_abstract_fired: 121287, force_multiuse_fired: 387 }
Cost before: 2049595
0: utility: 122210 | final_cost: 1926577 | 1.06x | uses: 174 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
post stuff: 12ms
Chose Invention fn_5: utility: 122210 | final_cost: 1926577 | 1.06x | uses: 174 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 731ms
365309 zips
arg_of_zid_node size: 365309
Tracking setup: 0ms
arity 0: 2ms
got 569 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 759ms
running pattern search...
TOTAL SEARCH: 2322ms
TOTAL PREP + SEARCH: 3082ms
Stats { worklist_steps: 191390, finished: 2, calc_final_utility: 16113, upper_bound_fired: 12160, free_vars_fired: 0, single_use_fired: 8663, single_task_fired: 6794, useless_abstract_fired: 120145, force_multiuse_fired: 379 }
Cost before: 1926577
0: utility: 108977 | final_cost: 1817093 | 1.06x | uses: 271 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
post stuff: 22ms
Chose Invention fn_6: utility: 108977 | final_cost: 1817093 | 1.06x | uses: 271 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 13ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 697ms
352965 zips
arg_of_zid_node size: 352965
Tracking setup: 0ms
arity 0: 2ms
got 560 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 723ms
running pattern search...
TOTAL SEARCH: 1577ms
TOTAL PREP + SEARCH: 2301ms
Stats { worklist_steps: 98869, finished: 1, calc_final_utility: 11022, upper_bound_fired: 8965, free_vars_fired: 0, single_use_fired: 7083, single_task_fired: 6789, useless_abstract_fired: 76355, force_multiuse_fired: 294 }
Cost before: 1817093
0: utility: 107564 | final_cost: 1709225 | 1.06x | uses: 534 | body: [fn_7 arity=2: (fn_0 #1 4 (#0 h))]
post stuff: 22ms
Chose Invention fn_7: utility: 107564 | final_cost: 1709225 | 1.06x | uses: 534 | body: [fn_7 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 659ms
336709 zips
arg_of_zid_node size: 336709
Tracking setup: 0ms
arity 0: 2ms
got 558 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 686ms
running pattern search...
TOTAL SEARCH: 1319ms
TOTAL PREP + SEARCH: 2006ms
Stats { worklist_steps: 78079, finished: 4, calc_final_utility: 9317, upper_bound_fired: 7275, free_vars_fired: 0, single_use_fired: 4582, single_task_fired: 6793, useless_abstract_fired: 62180, force_multiuse_fired: 254 }
Cost before: 1709225
0: utility: 105747 | final_cost: 1602569 | 1.07x | uses: 132 | body: [fn_8 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
post stuff: 12ms
Chose Invention fn_8: utility: 105747 | final_cost: 1602569 | 1.07x | uses: 132 | body: [fn_8 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 580ms
287983 zips
arg_of_zid_node size: 287983
Tracking setup: 0ms
arity 0: 2ms
got 542 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 604ms
running pattern search...
TOTAL SEARCH: 1118ms
TOTAL PREP + SEARCH: 1722ms
Stats { worklist_steps: 68574, finished: 3, calc_final_utility: 7938, upper_bound_fired: 7253, free_vars_fired: 0, single_use_fired: 4651, single_task_fired: 6473, useless_abstract_fired: 56814, force_multiuse_fired: 249 }
Cost before: 1602569
0: utility: 104533 | final_cost: 1497529 | 1.07x | uses: 260 | body: [fn_9 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
post stuff: 18ms
Chose Invention fn_9: utility: 104533 | final_cost: 1497529 | 1.07x | uses: 260 | body: [fn_9 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.52x better) 3776493 -> 1497529
[38;5;4mfn_0[0m (1.22x wrt orig): utility: 674981 | final_cost: 3101106 | 1.22x | uses: 2229 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4mfn_1[0m (1.38x wrt orig): utility: 366729 | final_cost: 2734072 | 1.13x | uses: 1817 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4mfn_2[0m (1.56x wrt orig): utility: 317544 | final_cost: 2414710 | 1.13x | uses: 186 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4mfn_3[0m (1.72x wrt orig): utility: 224723 | final_cost: 2189581 | 1.10x | uses: 743 | body: [fn_3 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4mfn_4[0m (1.84x wrt orig): utility: 138470 | final_cost: 2049595 | 1.07x | uses: 99 | body: [fn_4 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4mfn_5[0m (1.96x wrt orig): utility: 122210 | final_cost: 1926577 | 1.06x | uses: 174 | body: [fn_5 arity=1: (fn_1 2 6 (fn_1 2 1 #0 t) t)]
[38;5;4mfn_6[0m (2.08x wrt orig): utility: 108977 | final_cost: 1817093 | 1.06x | uses: 271 | body: [fn_6 arity=3: (fn_1 #2 4 (fn_3 3 #1 #0) h)]
[38;5;4mfn_7[0m (2.21x wrt orig): utility: 107564 | final_cost: 1709225 | 1.06x | uses: 534 | body: [fn_7 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4mfn_8[0m (2.36x wrt orig): utility: 105747 | final_cost: 1602569 | 1.07x | uses: 132 | body: [fn_8 arity=1: (fn_3 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4mfn_9[0m (2.52x wrt orig): utility: 104533 | final_cost: 1497529 | 1.07x | uses: 260 | body: [fn_9 arity=3: (fn_0 4 5 (fn_1 #2 #1 #0 t))]
Time: 55202ms
Test set compression with all inventions applied: 2.5485598694342917
Wrote to "claim-2-out-50/castle/41.json"
	Command being timed: "../target/release/compress castle-41-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/41.json"
	User time (seconds): 55.10
	System time (seconds): 0.57
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:55.70
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 703016
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 309236
	Voluntary context switches: 1
	Involuntary context switches: 5522
	Swaps: 0
	File system inputs: 0
	File system outputs: 10064
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
