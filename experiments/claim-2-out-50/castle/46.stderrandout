[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 36864
	 max depth: 245
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 38076
	 max depth: 253
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 17ms
got roots, treenodes, and cloned egraph contents: 102ms
num_paths_to_node(): 11ms
associate_tasks() and other task stuff: 5ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 2ms
get_zippers(): 2900ms
973 zips
arg_of_zid_node size: 973
Tracking setup: 0ms
arity 0: 4ms
got 1104 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3045ms
running pattern search...
TOTAL SEARCH: 13599ms
TOTAL PREP + SEARCH: 16645ms
Stats { worklist_steps: 368118, finished: 9, calc_final_utility: 21056, upper_bound_fired: 32696, free_vars_fired: 0, single_use_fired: 30822, single_task_fired: 18886, useless_abstract_fired: 256704, force_multiuse_fired: 2373 }
Cost before: 3856485
0: utility: 677405 | final_cost: 3178674 | 1.21x | uses: 2237 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
post stuff: 78ms
Chose Invention fn_0: utility: 677405 | final_cost: 3178674 | 1.21x | uses: 2237 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 12ms
got roots, treenodes, and cloned egraph contents: 52ms
num_paths_to_node(): 5ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 3316ms
907231 zips
arg_of_zid_node size: 907231
Tracking setup: 0ms
arity 0: 4ms
got 831 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3396ms
running pattern search...
TOTAL SEARCH: 6304ms
TOTAL PREP + SEARCH: 9701ms
Stats { worklist_steps: 214158, finished: 5, calc_final_utility: 16620, upper_bound_fired: 13418, free_vars_fired: 0, single_use_fired: 14756, single_task_fired: 13788, useless_abstract_fired: 130324, force_multiuse_fired: 988 }
Cost before: 3178674
0: utility: 405914 | final_cost: 2771644 | 1.15x | uses: 310 | body: [fn_1 arity=3: (#2 h (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
post stuff: 26ms
Chose Invention fn_1: utility: 405914 | final_cost: 2771644 | 1.15x | uses: 310 | body: [fn_1 arity=3: (#2 h (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 9ms
got roots, treenodes, and cloned egraph contents: 36ms
num_paths_to_node(): 4ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2309ms
726679 zips
arg_of_zid_node size: 726679
Tracking setup: 0ms
arity 0: 3ms
got 713 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2366ms
running pattern search...
TOTAL SEARCH: 4600ms
TOTAL PREP + SEARCH: 6967ms
Stats { worklist_steps: 176086, finished: 6, calc_final_utility: 15462, upper_bound_fired: 12921, free_vars_fired: 0, single_use_fired: 11418, single_task_fired: 11287, useless_abstract_fired: 117102, force_multiuse_fired: 914 }
Cost before: 2771644
0: utility: 314110 | final_cost: 2455716 | 1.13x | uses: 184 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
post stuff: 20ms
Chose Invention fn_2: utility: 314110 | final_cost: 2455716 | 1.13x | uses: 184 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 9ms
got roots, treenodes, and cloned egraph contents: 27ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1947ms
614327 zips
arg_of_zid_node size: 614327
Tracking setup: 0ms
arity 0: 4ms
got 713 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1996ms
running pattern search...
TOTAL SEARCH: 3810ms
TOTAL PREP + SEARCH: 5806ms
Stats { worklist_steps: 163989, finished: 5, calc_final_utility: 14561, upper_bound_fired: 13295, free_vars_fired: 0, single_use_fired: 12622, single_task_fired: 9815, useless_abstract_fired: 113287, force_multiuse_fired: 992 }
Cost before: 2455716
0: utility: 259467 | final_cost: 2195944 | 1.12x | uses: 1286 | body: [fn_3 arity=3: (#2 (r #1) t (l #0))]
post stuff: 41ms
Chose Invention fn_3: utility: 259467 | final_cost: 2195944 | 1.12x | uses: 1286 | body: [fn_3 arity=3: (#2 (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 19ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1419ms
528999 zips
arg_of_zid_node size: 528999
Tracking setup: 0ms
arity 0: 3ms
got 628 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1455ms
running pattern search...
TOTAL SEARCH: 2388ms
TOTAL PREP + SEARCH: 3843ms
Stats { worklist_steps: 121706, finished: 3, calc_final_utility: 12177, upper_bound_fired: 9788, free_vars_fired: 0, single_use_fired: 7438, single_task_fired: 8094, useless_abstract_fired: 86855, force_multiuse_fired: 392 }
Cost before: 2195944
0: utility: 206846 | final_cost: 1988692 | 1.10x | uses: 684 | body: [fn_4 arity=3: (#2 (r #1) h (l #0) t)]
post stuff: 27ms
Chose Invention fn_4: utility: 206846 | final_cost: 1988692 | 1.10x | uses: 684 | body: [fn_4 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 13ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 885ms
378583 zips
arg_of_zid_node size: 378583
Tracking setup: 0ms
arity 0: 2ms
got 557 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 912ms
running pattern search...
TOTAL SEARCH: 2224ms
TOTAL PREP + SEARCH: 3136ms
Stats { worklist_steps: 169576, finished: 3, calc_final_utility: 14486, upper_bound_fired: 12512, free_vars_fired: 0, single_use_fired: 9913, single_task_fired: 6768, useless_abstract_fired: 116585, force_multiuse_fired: 486 }
Cost before: 1988692
0: utility: 112211 | final_cost: 1875572 | 1.06x | uses: 140 | body: [fn_5 arity=1: (fn_4 1 3 (#0 (r 1) t) (l 3) h)]
post stuff: 14ms
Chose Invention fn_5: utility: 112211 | final_cost: 1875572 | 1.06x | uses: 140 | body: [fn_5 arity=1: (fn_4 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 761ms
328087 zips
arg_of_zid_node size: 328087
Tracking setup: 0ms
arity 0: 3ms
got 545 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 786ms
running pattern search...
TOTAL SEARCH: 1912ms
TOTAL PREP + SEARCH: 2699ms
Stats { worklist_steps: 152095, finished: 2, calc_final_utility: 12731, upper_bound_fired: 12493, free_vars_fired: 0, single_use_fired: 9512, single_task_fired: 6424, useless_abstract_fired: 106738, force_multiuse_fired: 476 }
Cost before: 1875572
0: utility: 111805 | final_cost: 1763260 | 1.06x | uses: 278 | body: [fn_6 arity=3: (fn_3 #2 4 (fn_4 3 #1 #0) h)]
post stuff: 22ms
Chose Invention fn_6: utility: 111805 | final_cost: 1763260 | 1.06x | uses: 278 | body: [fn_6 arity=3: (fn_3 #2 4 (fn_4 3 #1 #0) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 730ms
316131 zips
arg_of_zid_node size: 316131
Tracking setup: 0ms
arity 0: 2ms
got 537 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 756ms
running pattern search...
TOTAL SEARCH: 1402ms
TOTAL PREP + SEARCH: 2159ms
Stats { worklist_steps: 97230, finished: 2, calc_final_utility: 9495, upper_bound_fired: 9636, free_vars_fired: 0, single_use_fired: 9037, single_task_fired: 6423, useless_abstract_fired: 75794, force_multiuse_fired: 381 }
Cost before: 1763260
0: utility: 109785 | final_cost: 1652968 | 1.07x | uses: 273 | body: [fn_7 arity=3: (fn_0 4 5 (fn_3 #2 #1 #0 t))]
post stuff: 19ms
Chose Invention fn_7: utility: 109785 | final_cost: 1652968 | 1.07x | uses: 273 | body: [fn_7 arity=3: (fn_0 4 5 (fn_3 #2 #1 #0 t))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 11ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 710ms
307975 zips
arg_of_zid_node size: 307975
Tracking setup: 0ms
arity 0: 2ms
got 532 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 735ms
running pattern search...
TOTAL SEARCH: 1179ms
TOTAL PREP + SEARCH: 1915ms
Stats { worklist_steps: 74814, finished: 1, calc_final_utility: 8141, upper_bound_fired: 8001, free_vars_fired: 0, single_use_fired: 7618, single_task_fired: 6443, useless_abstract_fired: 61301, force_multiuse_fired: 292 }
Cost before: 1652968
0: utility: 107968 | final_cost: 1544696 | 1.07x | uses: 536 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
post stuff: 21ms
Chose Invention fn_8: utility: 107968 | final_cost: 1544696 | 1.07x | uses: 536 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 670ms
292949 zips
arg_of_zid_node size: 292949
Tracking setup: 0ms
arity 0: 2ms
got 530 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 695ms
running pattern search...
TOTAL SEARCH: 1445ms
TOTAL PREP + SEARCH: 2141ms
Stats { worklist_steps: 103617, finished: 2, calc_final_utility: 11328, upper_bound_fired: 7149, free_vars_fired: 0, single_use_fired: 8742, single_task_fired: 6449, useless_abstract_fired: 78782, force_multiuse_fired: 315 }
Cost before: 1544696
0: utility: 76053 | final_cost: 1468340 | 1.05x | uses: 378 | body: [fn_9 arity=1: (#0 h (r 4))]
post stuff: 20ms
Chose Invention fn_9: utility: 76053 | final_cost: 1468340 | 1.05x | uses: 378 | body: [fn_9 arity=1: (#0 h (r 4))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.63x better) 3856485 -> 1468340
[38;5;4mfn_0[0m (1.21x wrt orig): utility: 677405 | final_cost: 3178674 | 1.21x | uses: 2237 | body: [fn_0 arity=3: (#2 (r #1) h (l #0) h)]
[38;5;4mfn_1[0m (1.39x wrt orig): utility: 405914 | final_cost: 2771644 | 1.15x | uses: 310 | body: [fn_1 arity=3: (#2 h (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4mfn_2[0m (1.57x wrt orig): utility: 314110 | final_cost: 2455716 | 1.13x | uses: 184 | body: [fn_2 arity=1: (fn_0 2 4 (fn_0 6 4 (fn_0 10 4 (#0 (r 4) h (r 4) h) (r 4) h)))]
[38;5;4mfn_3[0m (1.76x wrt orig): utility: 259467 | final_cost: 2195944 | 1.12x | uses: 1286 | body: [fn_3 arity=3: (#2 (r #1) t (l #0))]
[38;5;4mfn_4[0m (1.94x wrt orig): utility: 206846 | final_cost: 1988692 | 1.10x | uses: 684 | body: [fn_4 arity=3: (#2 (r #1) h (l #0) t)]
[38;5;4mfn_5[0m (2.06x wrt orig): utility: 112211 | final_cost: 1875572 | 1.06x | uses: 140 | body: [fn_5 arity=1: (fn_4 1 3 (#0 (r 1) t) (l 3) h)]
[38;5;4mfn_6[0m (2.19x wrt orig): utility: 111805 | final_cost: 1763260 | 1.06x | uses: 278 | body: [fn_6 arity=3: (fn_3 #2 4 (fn_4 3 #1 #0) h)]
[38;5;4mfn_7[0m (2.33x wrt orig): utility: 109785 | final_cost: 1652968 | 1.07x | uses: 273 | body: [fn_7 arity=3: (fn_0 4 5 (fn_3 #2 #1 #0 t))]
[38;5;4mfn_8[0m (2.50x wrt orig): utility: 107968 | final_cost: 1544696 | 1.07x | uses: 536 | body: [fn_8 arity=2: (fn_0 #1 4 (#0 h))]
[38;5;4mfn_9[0m (2.63x wrt orig): utility: 76053 | final_cost: 1468340 | 1.05x | uses: 378 | body: [fn_9 arity=1: (#0 h (r 4))]
Time: 57310ms
Test set compression with all inventions applied: 2.5134815399024006
Wrote to "claim-2-out-50/castle/46.json"
	Command being timed: "../target/release/compress castle-46-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/46.json"
	User time (seconds): 57.41
	System time (seconds): 0.35
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:57.78
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 704504
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 242767
	Voluntary context switches: 1
	Involuntary context switches: 5754
	Swaps: 0
	File system inputs: 0
	File system outputs: 9640
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
