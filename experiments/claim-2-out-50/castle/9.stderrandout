[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 38076
	 max depth: 253
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 37066
	 max depth: 246
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 16ms
got roots, treenodes, and cloned egraph contents: 92ms
num_paths_to_node(): 10ms
associate_tasks() and other task stuff: 5ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 3103ms
1005 zips
arg_of_zid_node size: 1005
Tracking setup: 0ms
arity 0: 4ms
got 1011 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3234ms
running pattern search...
TOTAL SEARCH: 14480ms
TOTAL PREP + SEARCH: 17714ms
Stats { worklist_steps: 367461, finished: 10, calc_final_utility: 21190, upper_bound_fired: 33092, free_vars_fired: 0, single_use_fired: 26613, single_task_fired: 18932, useless_abstract_fired: 261139, force_multiuse_fired: 2338 }
Cost before: 3831538
0: utility: 664882 | final_cost: 3166150 | 1.21x | uses: 1647 | body: [fn_0 arity=2: (#1 h (r 4) h (l #0))]
post stuff: 62ms
Chose Invention fn_0: utility: 664882 | final_cost: 3166150 | 1.21x | uses: 1647 | body: [fn_0 arity=2: (#1 h (r 4) h (l #0))]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 16ms
got roots, treenodes, and cloned egraph contents: 57ms
num_paths_to_node(): 7ms
associate_tasks() and other task stuff: 4ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 3895ms
782547 zips
arg_of_zid_node size: 782547
Tracking setup: 0ms
arity 0: 5ms
got 782 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3988ms
running pattern search...
TOTAL SEARCH: 8354ms
TOTAL PREP + SEARCH: 12343ms
Stats { worklist_steps: 274659, finished: 2, calc_final_utility: 19996, upper_bound_fired: 20528, free_vars_fired: 0, single_use_fired: 17019, single_task_fired: 15371, useless_abstract_fired: 173912, force_multiuse_fired: 1505 }
Cost before: 3166150
0: utility: 386121 | final_cost: 2779724 | 1.14x | uses: 1913 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
post stuff: 74ms
Chose Invention fn_1: utility: 386121 | final_cost: 2779724 | 1.14x | uses: 1913 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 10ms
got roots, treenodes, and cloned egraph contents: 41ms
num_paths_to_node(): 5ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2980ms
914429 zips
arg_of_zid_node size: 914429
Tracking setup: 0ms
arity 0: 5ms
got 671 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3047ms
running pattern search...
TOTAL SEARCH: 5414ms
TOTAL PREP + SEARCH: 8461ms
Stats { worklist_steps: 199015, finished: 5, calc_final_utility: 20291, upper_bound_fired: 12332, free_vars_fired: 0, single_use_fired: 6469, single_task_fired: 12590, useless_abstract_fired: 131277, force_multiuse_fired: 496 }
Cost before: 2779724
0: utility: 272599 | final_cost: 2505509 | 1.11x | uses: 181 | body: [fn_2 arity=1: (fn_0 2 (fn_0 6 (fn_0 10 (#0 h (r 4) h (r 4)) h (r 4))) h)]
post stuff: 23ms
Chose Invention fn_2: utility: 272599 | final_cost: 2505509 | 1.11x | uses: 181 | body: [fn_2 arity=1: (fn_0 2 (fn_0 6 (fn_0 10 (#0 h (r 4) h (r 4)) h (r 4))) h)]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 30ms
num_paths_to_node(): 4ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2402ms
805627 zips
arg_of_zid_node size: 805627
Tracking setup: 0ms
arity 0: 5ms
got 671 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2456ms
running pattern search...
TOTAL SEARCH: 3973ms
TOTAL PREP + SEARCH: 6430ms
Stats { worklist_steps: 155683, finished: 3, calc_final_utility: 15851, upper_bound_fired: 10716, free_vars_fired: 0, single_use_fired: 6754, single_task_fired: 10961, useless_abstract_fired: 103783, force_multiuse_fired: 436 }
Cost before: 2505509
0: utility: 270981 | final_cost: 2234223 | 1.12x | uses: 1343 | body: [fn_3 arity=3: (#2 (r #1) h (l #0))]
post stuff: 58ms
Chose Invention fn_3: utility: 270981 | final_cost: 2234223 | 1.12x | uses: 1343 | body: [fn_3 arity=3: (#2 (r #1) h (l #0))]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 22ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1708ms
587517 zips
arg_of_zid_node size: 587517
Tracking setup: 0ms
arity 0: 4ms
got 629 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1750ms
running pattern search...
TOTAL SEARCH: 4096ms
TOTAL PREP + SEARCH: 5846ms
Stats { worklist_steps: 266890, finished: 6, calc_final_utility: 22599, upper_bound_fired: 13399, free_vars_fired: 0, single_use_fired: 7997, single_task_fired: 8924, useless_abstract_fired: 179820, force_multiuse_fired: 440 }
Cost before: 2234223
0: utility: 138471 | final_cost: 2094944 | 1.07x | uses: 197 | body: [fn_4 arity=1: (fn_3 1 3 (#0 t) t (l 3) h)]
post stuff: 17ms
Chose Invention fn_4: utility: 138471 | final_cost: 2094944 | 1.07x | uses: 197 | body: [fn_4 arity=1: (fn_3 1 3 (#0 t) t (l 3) h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 20ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1448ms
505169 zips
arg_of_zid_node size: 505169
Tracking setup: 0ms
arity 0: 3ms
got 599 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1487ms
running pattern search...
TOTAL SEARCH: 3529ms
TOTAL PREP + SEARCH: 5017ms
Stats { worklist_steps: 242100, finished: 5, calc_final_utility: 20337, upper_bound_fired: 12646, free_vars_fired: 0, single_use_fired: 6976, single_task_fired: 8508, useless_abstract_fired: 161651, force_multiuse_fired: 421 }
Cost before: 2094944
0: utility: 138470 | final_cost: 1954958 | 1.07x | uses: 99 | body: [fn_5 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
post stuff: 17ms
Chose Invention fn_5: utility: 138470 | final_cost: 1954958 | 1.07x | uses: 99 | body: [fn_5 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 17ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1012ms
403781 zips
arg_of_zid_node size: 403781
Tracking setup: 0ms
arity 0: 3ms
got 601 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1047ms
running pattern search...
TOTAL SEARCH: 2503ms
TOTAL PREP + SEARCH: 3550ms
Stats { worklist_steps: 174940, finished: 6, calc_final_utility: 14947, upper_bound_fired: 12482, free_vars_fired: 0, single_use_fired: 6995, single_task_fired: 7617, useless_abstract_fired: 119374, force_multiuse_fired: 406 }
Cost before: 1954958
0: utility: 135643 | final_cost: 1818406 | 1.08x | uses: 169 | body: [fn_6 arity=1: (fn_1 2 6 (fn_1 2 1 (#0 h) t) t)]
post stuff: 12ms
Chose Invention fn_6: utility: 135643 | final_cost: 1818406 | 1.08x | uses: 169 | body: [fn_6 arity=1: (fn_1 2 6 (fn_1 2 1 (#0 h) t) t)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 859ms
341421 zips
arg_of_zid_node size: 341421
Tracking setup: 0ms
arity 0: 3ms
got 549 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 890ms
running pattern search...
TOTAL SEARCH: 2165ms
TOTAL PREP + SEARCH: 3055ms
Stats { worklist_steps: 160674, finished: 8, calc_final_utility: 13402, upper_bound_fired: 12444, free_vars_fired: 0, single_use_fired: 6221, single_task_fired: 7295, useless_abstract_fired: 106429, force_multiuse_fired: 268 }
Cost before: 1818406
0: utility: 128063 | final_cost: 1689732 | 1.08x | uses: 125 | body: [fn_7 arity=3: (#1 (#2 (#1 (#2 (#1 (#0 t) h) t) h) t) h)]
post stuff: 16ms
Chose Invention fn_7: utility: 128063 | final_cost: 1689732 | 1.08x | uses: 125 | body: [fn_7 arity=3: (#1 (#2 (#1 (#2 (#1 (#0 t) h) t) h) t) h)]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 13ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 722ms
301869 zips
arg_of_zid_node size: 301869
Tracking setup: 0ms
arity 0: 3ms
got 536 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 751ms
running pattern search...
TOTAL SEARCH: 1394ms
TOTAL PREP + SEARCH: 2146ms
Stats { worklist_steps: 85517, finished: 4, calc_final_utility: 9684, upper_bound_fired: 10297, free_vars_fired: 0, single_use_fired: 7184, single_task_fired: 6704, useless_abstract_fired: 72667, force_multiuse_fired: 207 }
Cost before: 1689732
0: utility: 97061 | final_cost: 1592368 | 1.06x | uses: 482 | body: [fn_8 arity=1: (fn_0 2 #0 h)]
post stuff: 22ms
Chose Invention fn_8: utility: 97061 | final_cost: 1592368 | 1.06x | uses: 482 | body: [fn_8 arity=1: (fn_0 2 #0 h)]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 644ms
266375 zips
arg_of_zid_node size: 266375
Tracking setup: 0ms
arity 0: 3ms
got 474 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 669ms
running pattern search...
TOTAL SEARCH: 1647ms
TOTAL PREP + SEARCH: 2317ms
Stats { worklist_steps: 122823, finished: 3, calc_final_utility: 12661, upper_bound_fired: 11463, free_vars_fired: 0, single_use_fired: 10576, single_task_fired: 6449, useless_abstract_fired: 92791, force_multiuse_fired: 240 }
Cost before: 1592368
0: utility: 68981 | final_cost: 1522880 | 1.05x | uses: 172 | body: [fn_9 arity=3: (fn_3 4 5 (fn_1 #2 #1 #0 t))]
post stuff: 15ms
Chose Invention fn_9: utility: 68981 | final_cost: 1522880 | 1.05x | uses: 172 | body: [fn_9 arity=3: (fn_3 4 5 (fn_1 #2 #1 #0 t))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.52x better) 3831538 -> 1522880
[38;5;4mfn_0[0m (1.21x wrt orig): utility: 664882 | final_cost: 3166150 | 1.21x | uses: 1647 | body: [fn_0 arity=2: (#1 h (r 4) h (l #0))]
[38;5;4mfn_1[0m (1.38x wrt orig): utility: 386121 | final_cost: 2779724 | 1.14x | uses: 1913 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4mfn_2[0m (1.53x wrt orig): utility: 272599 | final_cost: 2505509 | 1.11x | uses: 181 | body: [fn_2 arity=1: (fn_0 2 (fn_0 6 (fn_0 10 (#0 h (r 4) h (r 4)) h (r 4))) h)]
[38;5;4mfn_3[0m (1.71x wrt orig): utility: 270981 | final_cost: 2234223 | 1.12x | uses: 1343 | body: [fn_3 arity=3: (#2 (r #1) h (l #0))]
[38;5;4mfn_4[0m (1.83x wrt orig): utility: 138471 | final_cost: 2094944 | 1.07x | uses: 197 | body: [fn_4 arity=1: (fn_3 1 3 (#0 t) t (l 3) h)]
[38;5;4mfn_5[0m (1.96x wrt orig): utility: 138470 | final_cost: 1954958 | 1.07x | uses: 99 | body: [fn_5 arity=2: (fn_1 1 2 (fn_1 6 2 (#1 (r #0) h h (l 1) t) t) h h)]
[38;5;4mfn_6[0m (2.11x wrt orig): utility: 135643 | final_cost: 1818406 | 1.08x | uses: 169 | body: [fn_6 arity=1: (fn_1 2 6 (fn_1 2 1 (#0 h) t) t)]
[38;5;4mfn_7[0m (2.27x wrt orig): utility: 128063 | final_cost: 1689732 | 1.08x | uses: 125 | body: [fn_7 arity=3: (#1 (#2 (#1 (#2 (#1 (#0 t) h) t) h) t) h)]
[38;5;4mfn_8[0m (2.41x wrt orig): utility: 97061 | final_cost: 1592368 | 1.06x | uses: 482 | body: [fn_8 arity=1: (fn_0 2 #0 h)]
[38;5;4mfn_9[0m (2.52x wrt orig): utility: 68981 | final_cost: 1522880 | 1.05x | uses: 172 | body: [fn_9 arity=3: (fn_3 4 5 (fn_1 #2 #1 #0 t))]
Time: 70021ms
Test set compression with all inventions applied: 2.449676636499931
Wrote to "claim-2-out-50/castle/9.json"
	Command being timed: "../target/release/compress castle-9-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/9.json"
	User time (seconds): 69.76
	System time (seconds): 0.74
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:10.53
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 697120
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 631969
	Voluntary context switches: 1
	Involuntary context switches: 7037
	Swaps: 0
	File system inputs: 0
	File system outputs: 9712
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
