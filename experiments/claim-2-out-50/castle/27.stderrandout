[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 36864
	 max depth: 245
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 38076
	 max depth: 253
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 18ms
got roots, treenodes, and cloned egraph contents: 98ms
num_paths_to_node(): 10ms
associate_tasks() and other task stuff: 4ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 2829ms
973 zips
arg_of_zid_node size: 973
Tracking setup: 0ms
arity 0: 5ms
got 1098 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2970ms
running pattern search...
TOTAL SEARCH: 14425ms
TOTAL PREP + SEARCH: 17395ms
Stats { worklist_steps: 358174, finished: 10, calc_final_utility: 20805, upper_bound_fired: 33048, free_vars_fired: 0, single_use_fired: 32008, single_task_fired: 18552, useless_abstract_fired: 250417, force_multiuse_fired: 2554 }
Cost before: 3774675
0: utility: 668518 | final_cost: 3105651 | 1.22x | uses: 1656 | body: [fn_0 arity=2: (#1 h (r 4) h (l #0))]
post stuff: 59ms
Chose Invention fn_0: utility: 668518 | final_cost: 3105651 | 1.22x | uses: 1656 | body: [fn_0 arity=2: (#1 h (r 4) h (l #0))]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 17ms
got roots, treenodes, and cloned egraph contents: 59ms
num_paths_to_node(): 7ms
associate_tasks() and other task stuff: 4ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 3640ms
767355 zips
arg_of_zid_node size: 767355
Tracking setup: 0ms
arity 0: 5ms
got 845 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 3736ms
running pattern search...
TOTAL SEARCH: 7671ms
TOTAL PREP + SEARCH: 11407ms
Stats { worklist_steps: 245041, finished: 2, calc_final_utility: 18755, upper_bound_fired: 19309, free_vars_fired: 0, single_use_fired: 18902, single_task_fired: 14993, useless_abstract_fired: 157009, force_multiuse_fired: 1437 }
Cost before: 3105651
0: utility: 376021 | final_cost: 2729325 | 1.14x | uses: 1863 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
post stuff: 73ms
Chose Invention fn_1: utility: 376021 | final_cost: 2729325 | 1.14x | uses: 1863 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 9ms
got roots, treenodes, and cloned egraph contents: 42ms
num_paths_to_node(): 4ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2414ms
889653 zips
arg_of_zid_node size: 889653
Tracking setup: 0ms
arity 0: 3ms
got 713 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2477ms
running pattern search...
TOTAL SEARCH: 4900ms
TOTAL PREP + SEARCH: 7377ms
Stats { worklist_steps: 187327, finished: 6, calc_final_utility: 18282, upper_bound_fired: 12848, free_vars_fired: 0, single_use_fired: 9334, single_task_fired: 12315, useless_abstract_fired: 123220, force_multiuse_fired: 478 }
Cost before: 2729325
0: utility: 280174 | final_cost: 2447535 | 1.12x | uses: 186 | body: [fn_2 arity=1: (fn_0 2 (fn_0 6 (fn_0 10 (#0 h (r 4) h (r 4)) h (r 4))) h)]
post stuff: 21ms
Chose Invention fn_2: utility: 280174 | final_cost: 2447535 | 1.12x | uses: 186 | body: [fn_2 arity=1: (fn_0 2 (fn_0 6 (fn_0 10 (#0 h (r 4) h (r 4)) h (r 4))) h)]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 10ms
got roots, treenodes, and cloned egraph contents: 36ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1915ms
778821 zips
arg_of_zid_node size: 778821
Tracking setup: 0ms
arity 0: 3ms
got 713 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1972ms
running pattern search...
TOTAL SEARCH: 3695ms
TOTAL PREP + SEARCH: 5668ms
Stats { worklist_steps: 144550, finished: 3, calc_final_utility: 15056, upper_bound_fired: 10771, free_vars_fired: 0, single_use_fired: 8727, single_task_fired: 10641, useless_abstract_fired: 97050, force_multiuse_fired: 424 }
Cost before: 2447535
0: utility: 263305 | final_cost: 2183925 | 1.12x | uses: 1305 | body: [fn_3 arity=3: (#2 (r #1) h (l #0))]
post stuff: 55ms
Chose Invention fn_3: utility: 263305 | final_cost: 2183925 | 1.12x | uses: 1305 | body: [fn_3 arity=3: (#2 (r #1) h (l #0))]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 26ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1331ms
565883 zips
arg_of_zid_node size: 565883
Tracking setup: 0ms
arity 0: 2ms
got 671 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1372ms
running pattern search...
TOTAL SEARCH: 3953ms
TOTAL PREP + SEARCH: 5326ms
Stats { worklist_steps: 269388, finished: 5, calc_final_utility: 23127, upper_bound_fired: 13973, free_vars_fired: 0, single_use_fired: 9786, single_task_fired: 8659, useless_abstract_fired: 189107, force_multiuse_fired: 446 }
Cost before: 2183925
0: utility: 129179 | final_cost: 2053837 | 1.06x | uses: 161 | body: [fn_4 arity=1: (fn_1 2 6 (fn_1 2 1 (#0 h) t) t)]
post stuff: 13ms
Chose Invention fn_4: utility: 129179 | final_cost: 2053837 | 1.06x | uses: 161 | body: [fn_4 arity=1: (fn_1 2 6 (fn_1 2 1 (#0 h) t) t)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 20ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1097ms
479301 zips
arg_of_zid_node size: 479301
Tracking setup: 0ms
arity 0: 2ms
got 608 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1132ms
running pattern search...
TOTAL SEARCH: 2880ms
TOTAL PREP + SEARCH: 4012ms
Stats { worklist_steps: 170286, finished: 7, calc_final_utility: 16618, upper_bound_fired: 13281, free_vars_fired: 0, single_use_fired: 8194, single_task_fired: 8361, useless_abstract_fired: 118810, force_multiuse_fired: 276 }
Cost before: 2053837
0: utility: 127866 | final_cost: 1925163 | 1.07x | uses: 182 | body: [fn_5 arity=1: (fn_1 1 2 (fn_1 6 2 (#0 t) t))]
post stuff: 19ms
Chose Invention fn_5: utility: 127866 | final_cost: 1925163 | 1.07x | uses: 182 | body: [fn_5 arity=1: (fn_1 1 2 (fn_1 6 2 (#0 t) t))]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 18ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 890ms
438621 zips
arg_of_zid_node size: 438621
Tracking setup: 0ms
arity 0: 3ms
got 605 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 922ms
running pattern search...
TOTAL SEARCH: 2378ms
TOTAL PREP + SEARCH: 3301ms
Stats { worklist_steps: 140111, finished: 8, calc_final_utility: 14560, upper_bound_fired: 12367, free_vars_fired: 0, single_use_fired: 7475, single_task_fired: 7815, useless_abstract_fired: 97996, force_multiuse_fired: 232 }
Cost before: 1925163
0: utility: 123821 | final_cost: 1800731 | 1.07x | uses: 118 | body: [fn_6 arity=3: (#1 (#2 (#1 (#2 (#1 (#0 t) h) t) h) t) h)]
post stuff: 15ms
Chose Invention fn_6: utility: 123821 | final_cost: 1800731 | 1.07x | uses: 118 | body: [fn_6 arity=3: (#1 (#2 (#1 (#2 (#1 (#0 t) h) t) h) t) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 758ms
391121 zips
arg_of_zid_node size: 391121
Tracking setup: 0ms
arity 0: 2ms
got 586 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 787ms
running pattern search...
TOTAL SEARCH: 1431ms
TOTAL PREP + SEARCH: 2219ms
Stats { worklist_steps: 66030, finished: 5, calc_final_utility: 9204, upper_bound_fired: 9362, free_vars_fired: 0, single_use_fired: 7005, single_task_fired: 7260, useless_abstract_fired: 58580, force_multiuse_fired: 150 }
Cost before: 1800731
0: utility: 118675 | final_cost: 1681248 | 1.07x | uses: 169 | body: [fn_7 arity=1: (fn_3 1 3 (#0 t) t (l 3) h)]
post stuff: 12ms
Chose Invention fn_7: utility: 118675 | final_cost: 1681248 | 1.07x | uses: 169 | body: [fn_7 arity=1: (fn_3 1 3 (#0 t) t (l 3) h)]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 646ms
330091 zips
arg_of_zid_node size: 330091
Tracking setup: 0ms
arity 0: 2ms
got 559 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 673ms
running pattern search...
TOTAL SEARCH: 1412ms
TOTAL PREP + SEARCH: 2085ms
Stats { worklist_steps: 70802, finished: 3, calc_final_utility: 9825, upper_bound_fired: 9295, free_vars_fired: 0, single_use_fired: 6975, single_task_fired: 6927, useless_abstract_fired: 61510, force_multiuse_fired: 192 }
Cost before: 1681248
0: utility: 96859 | final_cost: 1584086 | 1.06x | uses: 481 | body: [fn_8 arity=1: (fn_0 2 #0 h)]
post stuff: 20ms
Chose Invention fn_8: utility: 96859 | final_cost: 1584086 | 1.06x | uses: 481 | body: [fn_8 arity=1: (fn_0 2 #0 h)]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 12ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 583ms
293017 zips
arg_of_zid_node size: 293017
Tracking setup: 0ms
arity 0: 2ms
got 496 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 608ms
running pattern search...
TOTAL SEARCH: 1457ms
TOTAL PREP + SEARCH: 2065ms
Stats { worklist_steps: 82085, finished: 3, calc_final_utility: 11077, upper_bound_fired: 9889, free_vars_fired: 0, single_use_fired: 7822, single_task_fired: 6677, useless_abstract_fired: 67999, force_multiuse_fired: 201 }
Cost before: 1584086
0: utility: 81305 | final_cost: 1502478 | 1.05x | uses: 404 | body: [fn_9 arity=1: (#0 h (r 4))]
post stuff: 21ms
Chose Invention fn_9: utility: 81305 | final_cost: 1502478 | 1.05x | uses: 404 | body: [fn_9 arity=1: (#0 h (r 4))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (2.51x better) 3774675 -> 1502478
[38;5;4mfn_0[0m (1.22x wrt orig): utility: 668518 | final_cost: 3105651 | 1.22x | uses: 1656 | body: [fn_0 arity=2: (#1 h (r 4) h (l #0))]
[38;5;4mfn_1[0m (1.38x wrt orig): utility: 376021 | final_cost: 2729325 | 1.14x | uses: 1863 | body: [fn_1 arity=3: (#2 (r #1) t (l #0))]
[38;5;4mfn_2[0m (1.54x wrt orig): utility: 280174 | final_cost: 2447535 | 1.12x | uses: 186 | body: [fn_2 arity=1: (fn_0 2 (fn_0 6 (fn_0 10 (#0 h (r 4) h (r 4)) h (r 4))) h)]
[38;5;4mfn_3[0m (1.73x wrt orig): utility: 263305 | final_cost: 2183925 | 1.12x | uses: 1305 | body: [fn_3 arity=3: (#2 (r #1) h (l #0))]
[38;5;4mfn_4[0m (1.84x wrt orig): utility: 129179 | final_cost: 2053837 | 1.06x | uses: 161 | body: [fn_4 arity=1: (fn_1 2 6 (fn_1 2 1 (#0 h) t) t)]
[38;5;4mfn_5[0m (1.96x wrt orig): utility: 127866 | final_cost: 1925163 | 1.07x | uses: 182 | body: [fn_5 arity=1: (fn_1 1 2 (fn_1 6 2 (#0 t) t))]
[38;5;4mfn_6[0m (2.10x wrt orig): utility: 123821 | final_cost: 1800731 | 1.07x | uses: 118 | body: [fn_6 arity=3: (#1 (#2 (#1 (#2 (#1 (#0 t) h) t) h) t) h)]
[38;5;4mfn_7[0m (2.25x wrt orig): utility: 118675 | final_cost: 1681248 | 1.07x | uses: 169 | body: [fn_7 arity=1: (fn_3 1 3 (#0 t) t (l 3) h)]
[38;5;4mfn_8[0m (2.38x wrt orig): utility: 96859 | final_cost: 1584086 | 1.06x | uses: 481 | body: [fn_8 arity=1: (fn_0 2 #0 h)]
[38;5;4mfn_9[0m (2.51x wrt orig): utility: 81305 | final_cost: 1502478 | 1.05x | uses: 404 | body: [fn_9 arity=1: (#0 h (r 4))]
Time: 63203ms
Test set compression with all inventions applied: 2.525192613736833
Wrote to "claim-2-out-50/castle/27.json"
	Command being timed: "../target/release/compress castle-27-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/castle/27.json"
	User time (seconds): 63.11
	System time (seconds): 0.55
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 1:03.70
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 676560
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 439539
	Voluntary context switches: 1
	Involuntary context switches: 6324
	Swaps: 0
	File system inputs: 0
	File system outputs: 9736
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
