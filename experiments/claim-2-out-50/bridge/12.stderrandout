[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 33026
	 max depth: 219
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 33026
	 max depth: 219
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 732ms
869 zips
arg_of_zid_node size: 869
Tracking setup: 0ms
arity 0: 7ms
got 2957 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 765ms
running pattern search...
TOTAL SEARCH: 3930ms
TOTAL PREP + SEARCH: 4696ms
Stats { worklist_steps: 240349, finished: 5, calc_final_utility: 16465, upper_bound_fired: 17384, free_vars_fired: 0, single_use_fired: 11494, single_task_fired: 3189, useless_abstract_fired: 206431, force_multiuse_fired: 1275 }
Cost before: 2801641
0: utility: 700027 | final_cost: 2100802 | 1.33x | uses: 1250 | body: [fn_0 arity=3: (#2 t (r #1) t (l #1) t (r #1) t (l #0))]
post stuff: 15ms
Chose Invention fn_0: utility: 700027 | final_cost: 2100802 | 1.33x | uses: 1250 | body: [fn_0 arity=3: (#2 t (r #1) t (l #1) t (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 10ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 663ms
105325 zips
arg_of_zid_node size: 105325
Tracking setup: 0ms
arity 0: 7ms
got 2306 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 692ms
running pattern search...
TOTAL SEARCH: 2941ms
TOTAL PREP + SEARCH: 3634ms
Stats { worklist_steps: 172359, finished: 5, calc_final_utility: 11976, upper_bound_fired: 14319, free_vars_fired: 0, single_use_fired: 10348, single_task_fired: 3142, useless_abstract_fired: 173242, force_multiuse_fired: 571 }
Cost before: 2100802
0: utility: 399859 | final_cost: 1700640 | 1.24x | uses: 1981 | body: [fn_1 arity=1: (#0 (r 4) h)]
post stuff: 26ms
Chose Invention fn_1: utility: 399859 | final_cost: 1700640 | 1.24x | uses: 1981 | body: [fn_1 arity=1: (#0 (r 4) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 11ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 648ms
295029 zips
arg_of_zid_node size: 295029
Tracking setup: 0ms
arity 0: 5ms
got 1844 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 673ms
running pattern search...
TOTAL SEARCH: 1039ms
TOTAL PREP + SEARCH: 1713ms
Stats { worklist_steps: 61556, finished: 10, calc_final_utility: 6231, upper_bound_fired: 9625, free_vars_fired: 0, single_use_fired: 4051, single_task_fired: 2837, useless_abstract_fired: 67693, force_multiuse_fired: 221 }
Cost before: 1700640
0: utility: 308151 | final_cost: 1390974 | 1.22x | uses: 219 | body: [fn_2 arity=1: (fn_1 (fn_1 (#0 h (r 2) h (r 6) h (l 2) h (l 6) h)))]
post stuff: 8ms
Chose Invention fn_2: utility: 308151 | final_cost: 1390974 | 1.22x | uses: 219 | body: [fn_2 arity=1: (fn_1 (fn_1 (#0 h (r 2) h (r 6) h (l 2) h (l 6) h)))]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 7ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 421ms
204169 zips
arg_of_zid_node size: 204169
Tracking setup: 0ms
arity 0: 4ms
got 1534 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 439ms
running pattern search...
TOTAL SEARCH: 980ms
TOTAL PREP + SEARCH: 1420ms
Stats { worklist_steps: 71636, finished: 4, calc_final_utility: 6648, upper_bound_fired: 10512, free_vars_fired: 0, single_use_fired: 4359, single_task_fired: 2828, useless_abstract_fired: 72281, force_multiuse_fired: 239 }
Cost before: 1390974
0: utility: 213412 | final_cost: 1177258 | 1.18x | uses: 1496 | body: [fn_3 arity=2: (#1 t (r #0) t)]
post stuff: 45ms
Chose Invention fn_3: utility: 213412 | final_cost: 1177258 | 1.18x | uses: 1496 | body: [fn_3 arity=2: (#1 t (r #0) t)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 2ms
got roots, treenodes, and cloned egraph contents: 3ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 170ms
103889 zips
arg_of_zid_node size: 103889
Tracking setup: 0ms
arity 0: 3ms
got 1275 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 182ms
running pattern search...
TOTAL SEARCH: 453ms
TOTAL PREP + SEARCH: 636ms
Stats { worklist_steps: 53660, finished: 7, calc_final_utility: 5030, upper_bound_fired: 7817, free_vars_fired: 0, single_use_fired: 3360, single_task_fired: 1650, useless_abstract_fired: 43650, force_multiuse_fired: 195 }
Cost before: 1177258
0: utility: 126553 | final_cost: 1048685 | 1.12x | uses: 67 | body: [fn_4 arity=1: (fn_1 (#0 h (r 12) h (l 10) h (r 8) h (l 6) h) (l 8) h (r 12) h)]
post stuff: 6ms
Chose Invention fn_4: utility: 126553 | final_cost: 1048685 | 1.12x | uses: 67 | body: [fn_4 arity=1: (fn_1 (#0 h (r 12) h (l 10) h (r 8) h (l 6) h) (l 8) h (r 12) h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 2ms
got roots, treenodes, and cloned egraph contents: 3ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 126ms
68259 zips
arg_of_zid_node size: 68259
Tracking setup: 0ms
arity 0: 3ms
got 1065 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 136ms
running pattern search...
TOTAL SEARCH: 420ms
TOTAL PREP + SEARCH: 557ms
Stats { worklist_steps: 53457, finished: 8, calc_final_utility: 4602, upper_bound_fired: 7966, free_vars_fired: 0, single_use_fired: 3344, single_task_fired: 1597, useless_abstract_fired: 42806, force_multiuse_fired: 211 }
Cost before: 1048685
0: utility: 120291 | final_cost: 927485 | 1.13x | uses: 150 | body: [fn_5 arity=1: (fn_1 (fn_3 6 (fn_0 6 6 #0) (l 5) h))]
post stuff: 6ms
Chose Invention fn_5: utility: 120291 | final_cost: 927485 | 1.13x | uses: 150 | body: [fn_5 arity=1: (fn_1 (fn_3 6 (fn_0 6 6 #0) (l 5) h))]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 2ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 84ms
41843 zips
arg_of_zid_node size: 41843
Tracking setup: 0ms
arity 0: 3ms
got 985 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 93ms
running pattern search...
TOTAL SEARCH: 420ms
TOTAL PREP + SEARCH: 513ms
Stats { worklist_steps: 51048, finished: 6, calc_final_utility: 4625, upper_bound_fired: 9659, free_vars_fired: 0, single_use_fired: 5033, single_task_fired: 1598, useless_abstract_fired: 41638, force_multiuse_fired: 166 }
Cost before: 927485
0: utility: 92515 | final_cost: 834161 | 1.11x | uses: 132 | body: [fn_6 arity=2: (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (#1 (l #0) h)))))))]
post stuff: 6ms
Chose Invention fn_6: utility: 92515 | final_cost: 834161 | 1.11x | uses: 132 | body: [fn_6 arity=2: (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (#1 (l #0) h)))))))]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 2ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 51ms
26621 zips
arg_of_zid_node size: 26621
Tracking setup: 0ms
arity 0: 2ms
got 707 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 58ms
running pattern search...
TOTAL SEARCH: 391ms
TOTAL PREP + SEARCH: 450ms
Stats { worklist_steps: 62126, finished: 3, calc_final_utility: 4641, upper_bound_fired: 9997, free_vars_fired: 0, single_use_fired: 7459, single_task_fired: 1396, useless_abstract_fired: 47632, force_multiuse_fired: 261 }
Cost before: 834161
0: utility: 69184 | final_cost: 764673 | 1.09x | uses: 344 | body: [fn_7 arity=2: (fn_3 #1 (#0 (r 2)))]
post stuff: 12ms
Chose Invention fn_7: utility: 69184 | final_cost: 764673 | 1.09x | uses: 344 | body: [fn_7 arity=2: (fn_3 #1 (#0 (r 2)))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 1ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 58ms
38003 zips
arg_of_zid_node size: 38003
Tracking setup: 0ms
arity 0: 2ms
got 706 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 66ms
running pattern search...
TOTAL SEARCH: 174ms
TOTAL PREP + SEARCH: 241ms
Stats { worklist_steps: 25302, finished: 3, calc_final_utility: 2860, upper_bound_fired: 5909, free_vars_fired: 0, single_use_fired: 3462, single_task_fired: 1374, useless_abstract_fired: 18668, force_multiuse_fired: 127 }
Cost before: 764673
0: utility: 66052 | final_cost: 698316 | 1.10x | uses: 219 | body: [fn_8 arity=2: (fn_0 #1 #1 (#0 (r 3)))]
post stuff: 4ms
Chose Invention fn_8: utility: 66052 | final_cost: 698316 | 1.10x | uses: 219 | body: [fn_8 arity=2: (fn_0 #1 #1 (#0 (r 3)))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 1ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 50ms
33145 zips
arg_of_zid_node size: 33145
Tracking setup: 0ms
arity 0: 2ms
got 706 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 57ms
running pattern search...
TOTAL SEARCH: 149ms
TOTAL PREP + SEARCH: 207ms
Stats { worklist_steps: 17740, finished: 3, calc_final_utility: 2538, upper_bound_fired: 5238, free_vars_fired: 0, single_use_fired: 3270, single_task_fired: 1374, useless_abstract_fired: 13594, force_multiuse_fired: 89 }
Cost before: 698316
0: utility: 60095 | final_cost: 637716 | 1.10x | uses: 150 | body: [fn_9 arity=1: (fn_1 (fn_0 5 6 #0 h))]
post stuff: 4ms
Chose Invention fn_9: utility: 60095 | final_cost: 637716 | 1.10x | uses: 150 | body: [fn_9 arity=1: (fn_1 (fn_0 5 6 #0 h))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (4.39x better) 2801641 -> 637716
[38;5;4mfn_0[0m (1.33x wrt orig): utility: 700027 | final_cost: 2100802 | 1.33x | uses: 1250 | body: [fn_0 arity=3: (#2 t (r #1) t (l #1) t (r #1) t (l #0))]
[38;5;4mfn_1[0m (1.65x wrt orig): utility: 399859 | final_cost: 1700640 | 1.24x | uses: 1981 | body: [fn_1 arity=1: (#0 (r 4) h)]
[38;5;4mfn_2[0m (2.01x wrt orig): utility: 308151 | final_cost: 1390974 | 1.22x | uses: 219 | body: [fn_2 arity=1: (fn_1 (fn_1 (#0 h (r 2) h (r 6) h (l 2) h (l 6) h)))]
[38;5;4mfn_3[0m (2.38x wrt orig): utility: 213412 | final_cost: 1177258 | 1.18x | uses: 1496 | body: [fn_3 arity=2: (#1 t (r #0) t)]
[38;5;4mfn_4[0m (2.67x wrt orig): utility: 126553 | final_cost: 1048685 | 1.12x | uses: 67 | body: [fn_4 arity=1: (fn_1 (#0 h (r 12) h (l 10) h (r 8) h (l 6) h) (l 8) h (r 12) h)]
[38;5;4mfn_5[0m (3.02x wrt orig): utility: 120291 | final_cost: 927485 | 1.13x | uses: 150 | body: [fn_5 arity=1: (fn_1 (fn_3 6 (fn_0 6 6 #0) (l 5) h))]
[38;5;4mfn_6[0m (3.36x wrt orig): utility: 92515 | final_cost: 834161 | 1.11x | uses: 132 | body: [fn_6 arity=2: (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (#1 (l #0) h)))))))]
[38;5;4mfn_7[0m (3.66x wrt orig): utility: 69184 | final_cost: 764673 | 1.09x | uses: 344 | body: [fn_7 arity=2: (fn_3 #1 (#0 (r 2)))]
[38;5;4mfn_8[0m (4.01x wrt orig): utility: 66052 | final_cost: 698316 | 1.10x | uses: 219 | body: [fn_8 arity=2: (fn_0 #1 #1 (#0 (r 3)))]
[38;5;4mfn_9[0m (4.39x wrt orig): utility: 60095 | final_cost: 637716 | 1.10x | uses: 150 | body: [fn_9 arity=1: (fn_1 (fn_0 5 6 #0 h))]
Time: 14516ms
Test set compression with all inventions applied: 3.5458434812595643
Wrote to "claim-2-out-50/bridge/12.json"
	Command being timed: "../target/release/compress bridge-12-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/bridge/12.json"
	User time (seconds): 14.63
	System time (seconds): 0.11
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:14.75
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 200240
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 90718
	Voluntary context switches: 1
	Involuntary context switches: 1471
	Swaps: 0
	File system inputs: 0
	File system outputs: 4896
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
