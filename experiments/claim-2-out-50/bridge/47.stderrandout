[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 28178
	 max depth: 187
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 33026
	 max depth: 219
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 19ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 675ms
741 zips
arg_of_zid_node size: 741
Tracking setup: 0ms
arity 0: 7ms
got 2996 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 713ms
running pattern search...
TOTAL SEARCH: 3574ms
TOTAL PREP + SEARCH: 4288ms
Stats { worklist_steps: 223858, finished: 5, calc_final_utility: 15344, upper_bound_fired: 17429, free_vars_fired: 0, single_use_fired: 8831, single_task_fired: 3093, useless_abstract_fired: 196318, force_multiuse_fired: 1208 }
Cost before: 2741041
0: utility: 670939 | final_cost: 2069290 | 1.32x | uses: 1199 | body: [fn_0 arity=3: (#2 t (r #1) t (l #1) t (r #1) t (l #0))]
post stuff: 10ms
Chose Invention fn_0: utility: 670939 | final_cost: 2069290 | 1.32x | uses: 1199 | body: [fn_0 arity=3: (#2 t (r #1) t (l #1) t (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 10ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 541ms
102529 zips
arg_of_zid_node size: 102529
Tracking setup: 0ms
arity 0: 6ms
got 2317 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 566ms
running pattern search...
TOTAL SEARCH: 2711ms
TOTAL PREP + SEARCH: 3277ms
Stats { worklist_steps: 164653, finished: 6, calc_final_utility: 11494, upper_bound_fired: 14526, free_vars_fired: 0, single_use_fired: 5563, single_task_fired: 3066, useless_abstract_fired: 168753, force_multiuse_fired: 534 }
Cost before: 2069290
0: utility: 387133 | final_cost: 1680238 | 1.23x | uses: 214 | body: [fn_1 arity=1: (#0 h (r 2) h (r 6) h (l 2) h (l 6) h (r 4) h (r 4) h)]
post stuff: 7ms
Chose Invention fn_1: utility: 387133 | final_cost: 1680238 | 1.23x | uses: 214 | body: [fn_1 arity=1: (#0 h (r 2) h (r 6) h (l 2) h (l 6) h (r 4) h (r 4) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 8ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 548ms
100495 zips
arg_of_zid_node size: 100495
Tracking setup: 0ms
arity 0: 9ms
got 1933 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 575ms
running pattern search...
TOTAL SEARCH: 1928ms
TOTAL PREP + SEARCH: 2503ms
Stats { worklist_steps: 120060, finished: 5, calc_final_utility: 9140, upper_bound_fired: 12425, free_vars_fired: 0, single_use_fired: 4601, single_task_fired: 3056, useless_abstract_fired: 125639, force_multiuse_fired: 395 }
Cost before: 1680238
0: utility: 297041 | final_cost: 1382894 | 1.22x | uses: 1472 | body: [fn_2 arity=1: (#0 (r 4) h)]
post stuff: 19ms
Chose Invention fn_2: utility: 297041 | final_cost: 1382894 | 1.22x | uses: 1472 | body: [fn_2 arity=1: (#0 (r 4) h)]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 5ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 468ms
200881 zips
arg_of_zid_node size: 200881
Tracking setup: 0ms
arity 0: 6ms
got 1526 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 487ms
running pattern search...
TOTAL SEARCH: 1013ms
TOTAL PREP + SEARCH: 1501ms
Stats { worklist_steps: 66782, finished: 4, calc_final_utility: 6239, upper_bound_fired: 10533, free_vars_fired: 0, single_use_fired: 3162, single_task_fired: 2815, useless_abstract_fired: 70203, force_multiuse_fired: 218 }
Cost before: 1382894
0: utility: 217654 | final_cost: 1164936 | 1.19x | uses: 1521 | body: [fn_3 arity=2: (#1 t (r #0) t)]
post stuff: 52ms
Chose Invention fn_3: utility: 217654 | final_cost: 1164936 | 1.19x | uses: 1521 | body: [fn_3 arity=2: (#1 t (r #0) t)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 2ms
got roots, treenodes, and cloned egraph contents: 3ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 171ms
100421 zips
arg_of_zid_node size: 100421
Tracking setup: 0ms
arity 0: 3ms
got 1282 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 183ms
running pattern search...
TOTAL SEARCH: 434ms
TOTAL PREP + SEARCH: 617ms
Stats { worklist_steps: 45200, finished: 7, calc_final_utility: 4451, upper_bound_fired: 7934, free_vars_fired: 0, single_use_fired: 2826, single_task_fired: 1581, useless_abstract_fired: 36854, force_multiuse_fired: 132 }
Cost before: 1164936
0: utility: 127563 | final_cost: 1036464 | 1.12x | uses: 159 | body: [fn_4 arity=1: (fn_2 (fn_3 6 (fn_0 6 6 #0) (l 5) h))]
post stuff: 6ms
Chose Invention fn_4: utility: 127563 | final_cost: 1036464 | 1.12x | uses: 159 | body: [fn_4 arity=1: (fn_2 (fn_3 6 (fn_0 6 6 #0) (l 5) h))]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 2ms
got roots, treenodes, and cloned egraph contents: 4ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 130ms
72751 zips
arg_of_zid_node size: 72751
Tracking setup: 0ms
arity 0: 3ms
got 1199 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 143ms
running pattern search...
TOTAL SEARCH: 351ms
TOTAL PREP + SEARCH: 494ms
Stats { worklist_steps: 30274, finished: 14, calc_final_utility: 3414, upper_bound_fired: 8345, free_vars_fired: 0, single_use_fired: 3318, single_task_fired: 1574, useless_abstract_fired: 27452, force_multiuse_fired: 98 }
Cost before: 1036464
0: utility: 126553 | final_cost: 907891 | 1.14x | uses: 67 | body: [fn_5 arity=1: (fn_2 (#0 h (r 12) h (l 10) h (r 8) h (l 6) h) (l 8) h (r 12) h)]
post stuff: 6ms
Chose Invention fn_5: utility: 126553 | final_cost: 907891 | 1.14x | uses: 67 | body: [fn_5 arity=1: (fn_2 (#0 h (r 12) h (l 10) h (r 8) h (l 6) h) (l 8) h (r 12) h)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 2ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 81ms
38547 zips
arg_of_zid_node size: 38547
Tracking setup: 0ms
arity 0: 2ms
got 989 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 90ms
running pattern search...
TOTAL SEARCH: 446ms
TOTAL PREP + SEARCH: 536ms
Stats { worklist_steps: 52367, finished: 7, calc_final_utility: 4613, upper_bound_fired: 9917, free_vars_fired: 0, single_use_fired: 5214, single_task_fired: 1538, useless_abstract_fired: 40733, force_multiuse_fired: 183 }
Cost before: 907891
0: utility: 84738 | final_cost: 822344 | 1.10x | uses: 121 | body: [fn_6 arity=2: (fn_2 (fn_2 (fn_2 (fn_2 (fn_2 (fn_2 (#1 (l #0) h)))))))]
post stuff: 6ms
Chose Invention fn_6: utility: 84738 | final_cost: 822344 | 1.10x | uses: 121 | body: [fn_6 arity=2: (fn_2 (fn_2 (fn_2 (fn_2 (fn_2 (fn_2 (#1 (l #0) h)))))))]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 1ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 49ms
24933 zips
arg_of_zid_node size: 24933
Tracking setup: 0ms
arity 0: 2ms
got 719 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 56ms
running pattern search...
TOTAL SEARCH: 380ms
TOTAL PREP + SEARCH: 437ms
Stats { worklist_steps: 52499, finished: 3, calc_final_utility: 4250, upper_bound_fired: 9622, free_vars_fired: 0, single_use_fired: 6543, single_task_fired: 1360, useless_abstract_fired: 41588, force_multiuse_fired: 231 }
Cost before: 822344
0: utility: 69790 | final_cost: 752250 | 1.09x | uses: 347 | body: [fn_7 arity=2: (fn_3 #1 (#0 (r 2)))]
post stuff: 12ms
Chose Invention fn_7: utility: 69790 | final_cost: 752250 | 1.09x | uses: 347 | body: [fn_7 arity=2: (fn_3 #1 (#0 (r 2)))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 1ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 58ms
35719 zips
arg_of_zid_node size: 35719
Tracking setup: 0ms
arity 0: 2ms
got 718 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 67ms
running pattern search...
TOTAL SEARCH: 199ms
TOTAL PREP + SEARCH: 266ms
Stats { worklist_steps: 28432, finished: 3, calc_final_utility: 3282, upper_bound_fired: 6202, free_vars_fired: 0, single_use_fired: 3502, single_task_fired: 1360, useless_abstract_fired: 20461, force_multiuse_fired: 167 }
Cost before: 752250
0: utility: 59386 | final_cost: 692559 | 1.09x | uses: 197 | body: [fn_8 arity=2: (fn_0 #1 #1 (#0 (r 3)))]
post stuff: 4ms
Chose Invention fn_8: utility: 59386 | final_cost: 692559 | 1.09x | uses: 197 | body: [fn_8 arity=2: (fn_0 #1 #1 (#0 (r 3)))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 1ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 51ms
31757 zips
arg_of_zid_node size: 31757
Tracking setup: 0ms
arity 0: 3ms
got 718 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 59ms
running pattern search...
TOTAL SEARCH: 166ms
TOTAL PREP + SEARCH: 226ms
Stats { worklist_steps: 18685, finished: 3, calc_final_utility: 2702, upper_bound_fired: 5344, free_vars_fired: 0, single_use_fired: 3129, single_task_fired: 1360, useless_abstract_fired: 14153, force_multiuse_fired: 106 }
Cost before: 692559
0: utility: 57671 | final_cost: 634383 | 1.09x | uses: 144 | body: [fn_9 arity=1: (fn_2 (fn_0 5 6 #0 h))]
post stuff: 4ms
Chose Invention fn_9: utility: 57671 | final_cost: 634383 | 1.09x | uses: 144 | body: [fn_9 arity=1: (fn_2 (fn_0 5 6 #0 h))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (4.32x better) 2741041 -> 634383
[38;5;4mfn_0[0m (1.32x wrt orig): utility: 670939 | final_cost: 2069290 | 1.32x | uses: 1199 | body: [fn_0 arity=3: (#2 t (r #1) t (l #1) t (r #1) t (l #0))]
[38;5;4mfn_1[0m (1.63x wrt orig): utility: 387133 | final_cost: 1680238 | 1.23x | uses: 214 | body: [fn_1 arity=1: (#0 h (r 2) h (r 6) h (l 2) h (l 6) h (r 4) h (r 4) h)]
[38;5;4mfn_2[0m (1.98x wrt orig): utility: 297041 | final_cost: 1382894 | 1.22x | uses: 1472 | body: [fn_2 arity=1: (#0 (r 4) h)]
[38;5;4mfn_3[0m (2.35x wrt orig): utility: 217654 | final_cost: 1164936 | 1.19x | uses: 1521 | body: [fn_3 arity=2: (#1 t (r #0) t)]
[38;5;4mfn_4[0m (2.64x wrt orig): utility: 127563 | final_cost: 1036464 | 1.12x | uses: 159 | body: [fn_4 arity=1: (fn_2 (fn_3 6 (fn_0 6 6 #0) (l 5) h))]
[38;5;4mfn_5[0m (3.02x wrt orig): utility: 126553 | final_cost: 907891 | 1.14x | uses: 67 | body: [fn_5 arity=1: (fn_2 (#0 h (r 12) h (l 10) h (r 8) h (l 6) h) (l 8) h (r 12) h)]
[38;5;4mfn_6[0m (3.33x wrt orig): utility: 84738 | final_cost: 822344 | 1.10x | uses: 121 | body: [fn_6 arity=2: (fn_2 (fn_2 (fn_2 (fn_2 (fn_2 (fn_2 (#1 (l #0) h)))))))]
[38;5;4mfn_7[0m (3.64x wrt orig): utility: 69790 | final_cost: 752250 | 1.09x | uses: 347 | body: [fn_7 arity=2: (fn_3 #1 (#0 (r 2)))]
[38;5;4mfn_8[0m (3.96x wrt orig): utility: 59386 | final_cost: 692559 | 1.09x | uses: 197 | body: [fn_8 arity=2: (fn_0 #1 #1 (#0 (r 3)))]
[38;5;4mfn_9[0m (4.32x wrt orig): utility: 57671 | final_cost: 634383 | 1.09x | uses: 144 | body: [fn_9 arity=1: (fn_2 (fn_0 5 6 #0 h))]
Time: 14592ms
Test set compression with all inventions applied: 3.810166580071891
Wrote to "claim-2-out-50/bridge/47.json"
	Command being timed: "../target/release/compress bridge-47-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/bridge/47.json"
	User time (seconds): 14.66
	System time (seconds): 0.15
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:14.84
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 158076
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 70787
	Voluntary context switches: 1
	Involuntary context switches: 1582
	Swaps: 0
	File system inputs: 0
	File system outputs: 4576
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
