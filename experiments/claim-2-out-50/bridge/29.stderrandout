[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 33026
	 max depth: 219
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 27269
	 max depth: 181
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 18ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 686ms
869 zips
arg_of_zid_node size: 869
Tracking setup: 0ms
arity 0: 6ms
got 2893 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 722ms
running pattern search...
TOTAL SEARCH: 3955ms
TOTAL PREP + SEARCH: 4678ms
Stats { worklist_steps: 239650, finished: 5, calc_final_utility: 16487, upper_bound_fired: 17209, free_vars_fired: 0, single_use_fired: 11516, single_task_fired: 3183, useless_abstract_fired: 204589, force_multiuse_fired: 1225 }
Cost before: 2716195
0: utility: 660940 | final_cost: 2054443 | 1.32x | uses: 1179 | body: [fn_0 arity=3: (#2 t (r #1) t (l #1) t (r #1) t (l #0))]
post stuff: 11ms
Chose Invention fn_0: utility: 660940 | final_cost: 2054443 | 1.32x | uses: 1179 | body: [fn_0 arity=3: (#2 t (r #1) t (l #1) t (r #1) t (l #0))]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 9ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 586ms
105601 zips
arg_of_zid_node size: 105601
Tracking setup: 0ms
arity 0: 6ms
got 2250 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 612ms
running pattern search...
TOTAL SEARCH: 2705ms
TOTAL PREP + SEARCH: 3318ms
Stats { worklist_steps: 168636, finished: 5, calc_final_utility: 11843, upper_bound_fired: 14006, free_vars_fired: 0, single_use_fired: 8498, single_task_fired: 3172, useless_abstract_fired: 170830, force_multiuse_fired: 562 }
Cost before: 2054443
0: utility: 393395 | final_cost: 1660745 | 1.24x | uses: 1949 | body: [fn_1 arity=1: (#0 (r 4) h)]
post stuff: 26ms
Chose Invention fn_1: utility: 393395 | final_cost: 1660745 | 1.24x | uses: 1949 | body: [fn_1 arity=1: (#0 (r 4) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 7ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 644ms
293583 zips
arg_of_zid_node size: 293583
Tracking setup: 0ms
arity 0: 5ms
got 1796 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 664ms
running pattern search...
TOTAL SEARCH: 897ms
TOTAL PREP + SEARCH: 1561ms
Stats { worklist_steps: 57133, finished: 9, calc_final_utility: 5987, upper_bound_fired: 9433, free_vars_fired: 0, single_use_fired: 4963, single_task_fired: 2847, useless_abstract_fired: 61768, force_multiuse_fired: 215 }
Cost before: 1660745
0: utility: 303909 | final_cost: 1355321 | 1.23x | uses: 216 | body: [fn_2 arity=1: (fn_1 (fn_1 (#0 h (r 2) h (r 6) h (l 2) h (l 6) h)))]
post stuff: 7ms
Chose Invention fn_2: utility: 303909 | final_cost: 1355321 | 1.23x | uses: 216 | body: [fn_2 arity=1: (fn_1 (fn_1 (#0 h (r 2) h (r 6) h (l 2) h (l 6) h)))]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 6ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 411ms
201697 zips
arg_of_zid_node size: 201697
Tracking setup: 0ms
arity 0: 4ms
got 1486 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 428ms
running pattern search...
TOTAL SEARCH: 882ms
TOTAL PREP + SEARCH: 1311ms
Stats { worklist_steps: 64993, finished: 4, calc_final_utility: 6363, upper_bound_fired: 10251, free_vars_fired: 0, single_use_fired: 5492, single_task_fired: 2865, useless_abstract_fired: 65429, force_multiuse_fired: 185 }
Cost before: 1355321
0: utility: 208160 | final_cost: 1146857 | 1.18x | uses: 1447 | body: [fn_3 arity=2: (#1 t (r #0) t)]
post stuff: 44ms
Chose Invention fn_3: utility: 208160 | final_cost: 1146857 | 1.18x | uses: 1447 | body: [fn_3 arity=2: (#1 t (r #0) t)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 2ms
got roots, treenodes, and cloned egraph contents: 3ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 170ms
104615 zips
arg_of_zid_node size: 104615
Tracking setup: 0ms
arity 0: 4ms
got 1248 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 182ms
running pattern search...
TOTAL SEARCH: 440ms
TOTAL PREP + SEARCH: 623ms
Stats { worklist_steps: 53959, finished: 8, calc_final_utility: 5035, upper_bound_fired: 8546, free_vars_fired: 0, single_use_fired: 4289, single_task_fired: 1674, useless_abstract_fired: 43750, force_multiuse_fired: 197 }
Cost before: 1146857
0: utility: 124634 | final_cost: 1020203 | 1.12x | uses: 66 | body: [fn_4 arity=1: (fn_1 (#0 h (r 12) h (l 10) h (r 8) h (l 6) h) (l 8) h (r 12) h)]
post stuff: 6ms
Chose Invention fn_4: utility: 124634 | final_cost: 1020203 | 1.12x | uses: 66 | body: [fn_4 arity=1: (fn_1 (#0 h (r 12) h (l 10) h (r 8) h (l 6) h) (l 8) h (r 12) h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 2ms
got roots, treenodes, and cloned egraph contents: 2ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 123ms
67837 zips
arg_of_zid_node size: 67837
Tracking setup: 0ms
arity 0: 3ms
got 1038 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 134ms
running pattern search...
TOTAL SEARCH: 398ms
TOTAL PREP + SEARCH: 533ms
Stats { worklist_steps: 51481, finished: 7, calc_final_utility: 4530, upper_bound_fired: 8245, free_vars_fired: 0, single_use_fired: 4535, single_task_fired: 1645, useless_abstract_fired: 40769, force_multiuse_fired: 205 }
Cost before: 1020203
0: utility: 118675 | final_cost: 900619 | 1.13x | uses: 148 | body: [fn_5 arity=1: (fn_1 (fn_3 6 (fn_0 6 6 #0) (l 5) h))]
post stuff: 6ms
Chose Invention fn_5: utility: 118675 | final_cost: 900619 | 1.13x | uses: 148 | body: [fn_5 arity=1: (fn_1 (fn_3 6 (fn_0 6 6 #0) (l 5) h))]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 2ms
got roots, treenodes, and cloned egraph contents: 2ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 82ms
39783 zips
arg_of_zid_node size: 39783
Tracking setup: 0ms
arity 0: 4ms
got 959 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 93ms
running pattern search...
TOTAL SEARCH: 413ms
TOTAL PREP + SEARCH: 507ms
Stats { worklist_steps: 51539, finished: 6, calc_final_utility: 4724, upper_bound_fired: 10636, free_vars_fired: 0, single_use_fired: 5963, single_task_fired: 1681, useless_abstract_fired: 41592, force_multiuse_fired: 160 }
Cost before: 900619
0: utility: 88980 | final_cost: 810830 | 1.11x | uses: 127 | body: [fn_6 arity=2: (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (#1 (l #0) h)))))))]
post stuff: 6ms
Chose Invention fn_6: utility: 88980 | final_cost: 810830 | 1.11x | uses: 127 | body: [fn_6 arity=2: (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (#1 (l #0) h)))))))]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 1ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 46ms
24573 zips
arg_of_zid_node size: 24573
Tracking setup: 0ms
arity 0: 2ms
got 703 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 53ms
running pattern search...
TOTAL SEARCH: 352ms
TOTAL PREP + SEARCH: 406ms
Stats { worklist_steps: 55110, finished: 3, calc_final_utility: 4178, upper_bound_fired: 10114, free_vars_fired: 0, single_use_fired: 8309, single_task_fired: 1500, useless_abstract_fired: 42102, force_multiuse_fired: 205 }
Cost before: 810830
0: utility: 66760 | final_cost: 743766 | 1.09x | uses: 332 | body: [fn_7 arity=2: (fn_3 #1 (#0 (r 2)))]
post stuff: 11ms
Chose Invention fn_7: utility: 66760 | final_cost: 743766 | 1.09x | uses: 332 | body: [fn_7 arity=2: (fn_3 #1 (#0 (r 2)))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 1ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 54ms
34675 zips
arg_of_zid_node size: 34675
Tracking setup: 0ms
arity 0: 3ms
got 702 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 62ms
running pattern search...
TOTAL SEARCH: 172ms
TOTAL PREP + SEARCH: 234ms
Stats { worklist_steps: 25473, finished: 3, calc_final_utility: 2866, upper_bound_fired: 6074, free_vars_fired: 0, single_use_fired: 3521, single_task_fired: 1383, useless_abstract_fired: 18977, force_multiuse_fired: 122 }
Cost before: 743766
0: utility: 60295 | final_cost: 683166 | 1.09x | uses: 200 | body: [fn_8 arity=2: (fn_0 #1 #1 (#0 (r 3)))]
post stuff: 4ms
Chose Invention fn_8: utility: 60295 | final_cost: 683166 | 1.09x | uses: 200 | body: [fn_8 arity=2: (fn_0 #1 #1 (#0 (r 3)))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 1ms
got roots, treenodes, and cloned egraph contents: 2ms
num_paths_to_node(): 0ms
associate_tasks() and other task stuff: 0ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 46ms
30543 zips
arg_of_zid_node size: 30543
Tracking setup: 0ms
arity 0: 2ms
got 702 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 53ms
running pattern search...
TOTAL SEARCH: 134ms
TOTAL PREP + SEARCH: 188ms
Stats { worklist_steps: 14918, finished: 3, calc_final_utility: 2266, upper_bound_fired: 5274, free_vars_fired: 0, single_use_fired: 3046, single_task_fired: 1372, useless_abstract_fired: 12125, force_multiuse_fired: 69 }
Cost before: 683166
0: utility: 59691 | final_cost: 622970 | 1.10x | uses: 149 | body: [fn_9 arity=1: (fn_1 (fn_0 5 6 #0 h))]
post stuff: 4ms
Chose Invention fn_9: utility: 59691 | final_cost: 622970 | 1.10x | uses: 149 | body: [fn_9 arity=1: (fn_1 (fn_0 5 6 #0 h))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (4.36x better) 2716195 -> 622970
[38;5;4mfn_0[0m (1.32x wrt orig): utility: 660940 | final_cost: 2054443 | 1.32x | uses: 1179 | body: [fn_0 arity=3: (#2 t (r #1) t (l #1) t (r #1) t (l #0))]
[38;5;4mfn_1[0m (1.64x wrt orig): utility: 393395 | final_cost: 1660745 | 1.24x | uses: 1949 | body: [fn_1 arity=1: (#0 (r 4) h)]
[38;5;4mfn_2[0m (2.00x wrt orig): utility: 303909 | final_cost: 1355321 | 1.23x | uses: 216 | body: [fn_2 arity=1: (fn_1 (fn_1 (#0 h (r 2) h (r 6) h (l 2) h (l 6) h)))]
[38;5;4mfn_3[0m (2.37x wrt orig): utility: 208160 | final_cost: 1146857 | 1.18x | uses: 1447 | body: [fn_3 arity=2: (#1 t (r #0) t)]
[38;5;4mfn_4[0m (2.66x wrt orig): utility: 124634 | final_cost: 1020203 | 1.12x | uses: 66 | body: [fn_4 arity=1: (fn_1 (#0 h (r 12) h (l 10) h (r 8) h (l 6) h) (l 8) h (r 12) h)]
[38;5;4mfn_5[0m (3.02x wrt orig): utility: 118675 | final_cost: 900619 | 1.13x | uses: 148 | body: [fn_5 arity=1: (fn_1 (fn_3 6 (fn_0 6 6 #0) (l 5) h))]
[38;5;4mfn_6[0m (3.35x wrt orig): utility: 88980 | final_cost: 810830 | 1.11x | uses: 127 | body: [fn_6 arity=2: (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (fn_1 (#1 (l #0) h)))))))]
[38;5;4mfn_7[0m (3.65x wrt orig): utility: 66760 | final_cost: 743766 | 1.09x | uses: 332 | body: [fn_7 arity=2: (fn_3 #1 (#0 (r 2)))]
[38;5;4mfn_8[0m (3.98x wrt orig): utility: 60295 | final_cost: 683166 | 1.09x | uses: 200 | body: [fn_8 arity=2: (fn_0 #1 #1 (#0 (r 3)))]
[38;5;4mfn_9[0m (4.36x wrt orig): utility: 59691 | final_cost: 622970 | 1.10x | uses: 149 | body: [fn_9 arity=1: (fn_1 (fn_0 5 6 #0 h))]
Time: 13831ms
Test set compression with all inventions applied: 3.668819729888432
Wrote to "claim-2-out-50/bridge/29.json"
	Command being timed: "../target/release/compress bridge-29-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/bridge/29.json"
	User time (seconds): 13.90
	System time (seconds): 0.15
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:14.07
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 198040
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 82316
	Voluntary context switches: 1
	Involuntary context switches: 1479
	Swaps: 0
	File system inputs: 0
	File system outputs: 4792
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
