[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 32521
	 max depth: 219
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 29491
	 max depth: 196
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 10ms
got roots, treenodes, and cloned egraph contents: 51ms
num_paths_to_node(): 9ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 2ms
get_zippers(): 1973ms
871 zips
arg_of_zid_node size: 871
Tracking setup: 0ms
arity 0: 14ms
got 2215 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2066ms
running pattern search...
TOTAL SEARCH: 9689ms
TOTAL PREP + SEARCH: 11755ms
Stats { worklist_steps: 331240, finished: 7, calc_final_utility: 21731, upper_bound_fired: 41141, free_vars_fired: 0, single_use_fired: 25960, single_task_fired: 11822, useless_abstract_fired: 219022, force_multiuse_fired: 1978 }
Cost before: 3271594
0: utility: 653974 | final_cost: 2617114 | 1.25x | uses: 1620 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
post stuff: 45ms
Chose Invention fn_0: utility: 653974 | final_cost: 2617114 | 1.25x | uses: 1620 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 27ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1948ms
536133 zips
arg_of_zid_node size: 536133
Tracking setup: 0ms
arity 0: 6ms
got 1713 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1999ms
running pattern search...
TOTAL SEARCH: 4770ms
TOTAL PREP + SEARCH: 6769ms
Stats { worklist_steps: 230673, finished: 7, calc_final_utility: 19232, upper_bound_fired: 22810, free_vars_fired: 0, single_use_fired: 12674, single_task_fired: 9050, useless_abstract_fired: 144154, force_multiuse_fired: 1224 }
Cost before: 2617114
0: utility: 421271 | final_cost: 2194328 | 1.19x | uses: 299 | body: [fn_1 arity=1: (#0 (r 1) t (l 2) t (r 6) t (l 2) t (r 1) h)]
post stuff: 14ms
Chose Invention fn_1: utility: 421271 | final_cost: 2194328 | 1.19x | uses: 299 | body: [fn_1 arity=1: (#0 (r 1) t (l 2) t (r 6) t (l 2) t (r 1) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 21ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1256ms
457509 zips
arg_of_zid_node size: 457509
Tracking setup: 0ms
arity 0: 4ms
got 1479 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1295ms
running pattern search...
TOTAL SEARCH: 3538ms
TOTAL PREP + SEARCH: 4834ms
Stats { worklist_steps: 189224, finished: 7, calc_final_utility: 15788, upper_bound_fired: 18611, free_vars_fired: 0, single_use_fired: 14144, single_task_fired: 7844, useless_abstract_fired: 124512, force_multiuse_fired: 990 }
Cost before: 2194328
0: utility: 255226 | final_cost: 1937384 | 1.13x | uses: 159 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
post stuff: 13ms
Chose Invention fn_2: utility: 255226 | final_cost: 1937384 | 1.13x | uses: 159 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 16ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1102ms
344955 zips
arg_of_zid_node size: 344955
Tracking setup: 0ms
arity 0: 6ms
got 1249 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1136ms
running pattern search...
TOTAL SEARCH: 3497ms
TOTAL PREP + SEARCH: 4634ms
Stats { worklist_steps: 215908, finished: 5, calc_final_utility: 17568, upper_bound_fired: 20667, free_vars_fired: 0, single_use_fired: 20244, single_task_fired: 7086, useless_abstract_fired: 141749, force_multiuse_fired: 1084 }
Cost before: 1937384
0: utility: 200886 | final_cost: 1734778 | 1.12x | uses: 187 | body: [fn_3 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
post stuff: 10ms
Chose Invention fn_3: utility: 200886 | final_cost: 1734778 | 1.12x | uses: 187 | body: [fn_3 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 13ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 990ms
297247 zips
arg_of_zid_node size: 297247
Tracking setup: 0ms
arity 0: 6ms
got 1132 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1022ms
running pattern search...
TOTAL SEARCH: 2224ms
TOTAL PREP + SEARCH: 3246ms
Stats { worklist_steps: 123625, finished: 7, calc_final_utility: 12534, upper_bound_fired: 15443, free_vars_fired: 0, single_use_fired: 16119, single_task_fired: 6410, useless_abstract_fired: 85412, force_multiuse_fired: 521 }
Cost before: 1734778
0: utility: 183719 | final_cost: 1550251 | 1.12x | uses: 261 | body: [fn_4 arity=1: (fn_0 5 (#0 (l 5) t (r 6) t))]
post stuff: 11ms
Chose Invention fn_4: utility: 183719 | final_cost: 1550251 | 1.12x | uses: 261 | body: [fn_4 arity=1: (fn_0 5 (#0 (l 5) t (r 6) t))]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 11ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 844ms
239417 zips
arg_of_zid_node size: 239417
Tracking setup: 0ms
arity 0: 4ms
got 1054 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 871ms
running pattern search...
TOTAL SEARCH: 1642ms
TOTAL PREP + SEARCH: 2514ms
Stats { worklist_steps: 94395, finished: 6, calc_final_utility: 9441, upper_bound_fired: 12082, free_vars_fired: 0, single_use_fired: 13770, single_task_fired: 5890, useless_abstract_fired: 70401, force_multiuse_fired: 410 }
Cost before: 1550251
0: utility: 178972 | final_cost: 1370269 | 1.13x | uses: 198 | body: [fn_5 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
post stuff: 10ms
Chose Invention fn_5: utility: 178972 | final_cost: 1370269 | 1.13x | uses: 198 | body: [fn_5 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 9ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 560ms
203599 zips
arg_of_zid_node size: 203599
Tracking setup: 0ms
arity 0: 4ms
got 958 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 584ms
running pattern search...
TOTAL SEARCH: 1227ms
TOTAL PREP + SEARCH: 1811ms
Stats { worklist_steps: 76492, finished: 3, calc_final_utility: 8448, upper_bound_fired: 12203, free_vars_fired: 0, single_use_fired: 9614, single_task_fired: 5244, useless_abstract_fired: 62957, force_multiuse_fired: 540 }
Cost before: 1370269
0: utility: 115340 | final_cost: 1254523 | 1.09x | uses: 382 | body: [fn_6 arity=3: (#2 (r #1) h (#0 4) h)]
post stuff: 14ms
Chose Invention fn_6: utility: 115340 | final_cost: 1254523 | 1.09x | uses: 382 | body: [fn_6 arity=3: (#2 (r #1) h (#0 4) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 7ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 395ms
160747 zips
arg_of_zid_node size: 160747
Tracking setup: 0ms
arity 0: 4ms
got 840 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 415ms
running pattern search...
TOTAL SEARCH: 1065ms
TOTAL PREP + SEARCH: 1481ms
Stats { worklist_steps: 84583, finished: 3, calc_final_utility: 8179, upper_bound_fired: 14967, free_vars_fired: 0, single_use_fired: 12469, single_task_fired: 4463, useless_abstract_fired: 65978, force_multiuse_fired: 417 }
Cost before: 1254523
0: utility: 95040 | final_cost: 1159179 | 1.08x | uses: 472 | body: [fn_7 arity=2: (#1 t (r #0) t)]
post stuff: 13ms
Chose Invention fn_7: utility: 95040 | final_cost: 1159179 | 1.08x | uses: 472 | body: [fn_7 arity=2: (#1 t (r #0) t)]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 6ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 320ms
138127 zips
arg_of_zid_node size: 138127
Tracking setup: 0ms
arity 0: 3ms
got 756 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 337ms
running pattern search...
TOTAL SEARCH: 1095ms
TOTAL PREP + SEARCH: 1433ms
Stats { worklist_steps: 101301, finished: 3, calc_final_utility: 11226, upper_bound_fired: 13675, free_vars_fired: 0, single_use_fired: 16446, single_task_fired: 3899, useless_abstract_fired: 76159, force_multiuse_fired: 307 }
Cost before: 1159179
0: utility: 58680 | final_cost: 1100296 | 1.05x | uses: 583 | body: [fn_8 arity=2: (#1 (l #0) h)]
post stuff: 14ms
Chose Invention fn_8: utility: 58680 | final_cost: 1100296 | 1.05x | uses: 583 | body: [fn_8 arity=2: (#1 (l #0) h)]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 5ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 260ms
121069 zips
arg_of_zid_node size: 121069
Tracking setup: 0ms
arity 0: 3ms
got 696 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 276ms
running pattern search...
TOTAL SEARCH: 731ms
TOTAL PREP + SEARCH: 1007ms
Stats { worklist_steps: 73965, finished: 7, calc_final_utility: 7696, upper_bound_fired: 11399, free_vars_fired: 0, single_use_fired: 13561, single_task_fired: 3677, useless_abstract_fired: 60324, force_multiuse_fired: 314 }
Cost before: 1100296
0: utility: 55348 | final_cost: 1043938 | 1.05x | uses: 93 | body: [fn_9 arity=1: (fn_0 3 (fn_7 2 (fn_0 3 (fn_7 2 #0) (l 3))))]
post stuff: 7ms
Chose Invention fn_9: utility: 55348 | final_cost: 1043938 | 1.05x | uses: 93 | body: [fn_9 arity=1: (fn_0 3 (fn_7 2 (fn_0 3 (fn_7 2 #0) (l 3))))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (3.13x better) 3271594 -> 1043938
[38;5;4mfn_0[0m (1.25x wrt orig): utility: 653974 | final_cost: 2617114 | 1.25x | uses: 1620 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
[38;5;4mfn_1[0m (1.49x wrt orig): utility: 421271 | final_cost: 2194328 | 1.19x | uses: 299 | body: [fn_1 arity=1: (#0 (r 1) t (l 2) t (r 6) t (l 2) t (r 1) h)]
[38;5;4mfn_2[0m (1.69x wrt orig): utility: 255226 | final_cost: 1937384 | 1.13x | uses: 159 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
[38;5;4mfn_3[0m (1.89x wrt orig): utility: 200886 | final_cost: 1734778 | 1.12x | uses: 187 | body: [fn_3 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
[38;5;4mfn_4[0m (2.11x wrt orig): utility: 183719 | final_cost: 1550251 | 1.12x | uses: 261 | body: [fn_4 arity=1: (fn_0 5 (#0 (l 5) t (r 6) t))]
[38;5;4mfn_5[0m (2.39x wrt orig): utility: 178972 | final_cost: 1370269 | 1.13x | uses: 198 | body: [fn_5 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4mfn_6[0m (2.61x wrt orig): utility: 115340 | final_cost: 1254523 | 1.09x | uses: 382 | body: [fn_6 arity=3: (#2 (r #1) h (#0 4) h)]
[38;5;4mfn_7[0m (2.82x wrt orig): utility: 95040 | final_cost: 1159179 | 1.08x | uses: 472 | body: [fn_7 arity=2: (#1 t (r #0) t)]
[38;5;4mfn_8[0m (2.97x wrt orig): utility: 58680 | final_cost: 1100296 | 1.05x | uses: 583 | body: [fn_8 arity=2: (#1 (l #0) h)]
[38;5;4mfn_9[0m (3.13x wrt orig): utility: 55348 | final_cost: 1043938 | 1.05x | uses: 93 | body: [fn_9 arity=1: (fn_0 3 (fn_7 2 (fn_0 3 (fn_7 2 #0) (l 3))))]
Time: 40962ms
Test set compression with all inventions applied: 3.0582707333997043
Wrote to "claim-2-out-50/city/36.json"
	Command being timed: "../target/release/compress city-36-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/city/36.json"
	User time (seconds): 41.05
	System time (seconds): 0.23
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:41.31
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 442064
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 261328
	Voluntary context switches: 1
	Involuntary context switches: 4114
	Swaps: 0
	File system inputs: 0
	File system outputs: 5576
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
