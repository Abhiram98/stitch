[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 28279
	 max depth: 193
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 32521
	 max depth: 219
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 10ms
got roots, treenodes, and cloned egraph contents: 48ms
num_paths_to_node(): 7ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 1549ms
765 zips
arg_of_zid_node size: 765
Tracking setup: 0ms
arity 0: 7ms
got 2379 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1627ms
running pattern search...
TOTAL SEARCH: 8183ms
TOTAL PREP + SEARCH: 9811ms
Stats { worklist_steps: 285775, finished: 8, calc_final_utility: 19800, upper_bound_fired: 37892, free_vars_fired: 0, single_use_fired: 24799, single_task_fired: 11225, useless_abstract_fired: 196016, force_multiuse_fired: 1844 }
Cost before: 3245536
0: utility: 651550 | final_cost: 2593480 | 1.25x | uses: 1614 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
post stuff: 43ms
Chose Invention fn_0: utility: 651550 | final_cost: 2593480 | 1.25x | uses: 1614 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 9ms
got roots, treenodes, and cloned egraph contents: 32ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1992ms
521957 zips
arg_of_zid_node size: 521957
Tracking setup: 0ms
arity 0: 5ms
got 1832 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2047ms
running pattern search...
TOTAL SEARCH: 4163ms
TOTAL PREP + SEARCH: 6210ms
Stats { worklist_steps: 207105, finished: 6, calc_final_utility: 16634, upper_bound_fired: 20881, free_vars_fired: 0, single_use_fired: 17721, single_task_fired: 8604, useless_abstract_fired: 125471, force_multiuse_fired: 1216 }
Cost before: 2593480
0: utility: 414701 | final_cost: 2177764 | 1.19x | uses: 343 | body: [fn_1 arity=3: (#2 (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
post stuff: 16ms
Chose Invention fn_1: utility: 414701 | final_cost: 2177764 | 1.19x | uses: 343 | body: [fn_1 arity=3: (#2 (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 19ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1168ms
433637 zips
arg_of_zid_node size: 433637
Tracking setup: 0ms
arity 0: 4ms
got 1512 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1205ms
running pattern search...
TOTAL SEARCH: 3320ms
TOTAL PREP + SEARCH: 4526ms
Stats { worklist_steps: 188928, finished: 7, calc_final_utility: 15892, upper_bound_fired: 19306, free_vars_fired: 0, single_use_fired: 14681, single_task_fired: 7227, useless_abstract_fired: 124682, force_multiuse_fired: 1037 }
Cost before: 2177764
0: utility: 250378 | final_cost: 1925668 | 1.13x | uses: 156 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
post stuff: 14ms
Chose Invention fn_2: utility: 250378 | final_cost: 1925668 | 1.13x | uses: 156 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 957ms
317087 zips
arg_of_zid_node size: 317087
Tracking setup: 0ms
arity 0: 5ms
got 1277 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 988ms
running pattern search...
TOTAL SEARCH: 3204ms
TOTAL PREP + SEARCH: 4193ms
Stats { worklist_steps: 221369, finished: 4, calc_final_utility: 17101, upper_bound_fired: 21960, free_vars_fired: 0, single_use_fired: 21036, single_task_fired: 6508, useless_abstract_fired: 142558, force_multiuse_fired: 1237 }
Cost before: 1925668
0: utility: 199273 | final_cost: 1725587 | 1.12x | uses: 283 | body: [fn_3 arity=1: (fn_0 5 (#0 (l 5) t (r 6) t))]
post stuff: 11ms
Chose Invention fn_3: utility: 199273 | final_cost: 1725587 | 1.12x | uses: 283 | body: [fn_3 arity=1: (fn_0 5 (#0 (l 5) t (r 6) t))]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 13ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 717ms
259511 zips
arg_of_zid_node size: 259511
Tracking setup: 0ms
arity 0: 4ms
got 1195 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 744ms
running pattern search...
TOTAL SEARCH: 2725ms
TOTAL PREP + SEARCH: 3470ms
Stats { worklist_steps: 202583, finished: 9, calc_final_utility: 15295, upper_bound_fired: 19340, free_vars_fired: 0, single_use_fired: 20363, single_task_fired: 5960, useless_abstract_fired: 132071, force_multiuse_fired: 1118 }
Cost before: 1725587
0: utility: 187150 | final_cost: 1536717 | 1.12x | uses: 174 | body: [fn_4 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
post stuff: 9ms
Chose Invention fn_4: utility: 187150 | final_cost: 1536717 | 1.12x | uses: 174 | body: [fn_4 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 520ms
227375 zips
arg_of_zid_node size: 227375
Tracking setup: 0ms
arity 0: 4ms
got 1103 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 548ms
running pattern search...
TOTAL SEARCH: 1500ms
TOTAL PREP + SEARCH: 2049ms
Stats { worklist_steps: 106649, finished: 6, calc_final_utility: 9494, upper_bound_fired: 13640, free_vars_fired: 0, single_use_fired: 14743, single_task_fired: 5250, useless_abstract_fired: 75433, force_multiuse_fired: 513 }
Cost before: 1536717
0: utility: 172609 | final_cost: 1363098 | 1.13x | uses: 191 | body: [fn_5 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
post stuff: 8ms
Chose Invention fn_5: utility: 172609 | final_cost: 1363098 | 1.13x | uses: 191 | body: [fn_5 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 8ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 386ms
191557 zips
arg_of_zid_node size: 191557
Tracking setup: 0ms
arity 0: 3ms
got 1007 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 406ms
running pattern search...
TOTAL SEARCH: 1137ms
TOTAL PREP + SEARCH: 1544ms
Stats { worklist_steps: 89305, finished: 3, calc_final_utility: 8418, upper_bound_fired: 13215, free_vars_fired: 0, single_use_fired: 11105, single_task_fired: 4652, useless_abstract_fired: 69819, force_multiuse_fired: 590 }
Cost before: 1363098
0: utility: 119279 | final_cost: 1243413 | 1.10x | uses: 395 | body: [fn_6 arity=3: (#2 (r #1) h (#0 4) h)]
post stuff: 14ms
Chose Invention fn_6: utility: 119279 | final_cost: 1243413 | 1.10x | uses: 395 | body: [fn_6 arity=3: (#2 (r #1) h (#0 4) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 6ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 271ms
138653 zips
arg_of_zid_node size: 138653
Tracking setup: 0ms
arity 0: 3ms
got 861 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 288ms
running pattern search...
TOTAL SEARCH: 1196ms
TOTAL PREP + SEARCH: 1485ms
Stats { worklist_steps: 135723, finished: 3, calc_final_utility: 10387, upper_bound_fired: 17917, free_vars_fired: 0, single_use_fired: 17199, single_task_fired: 3906, useless_abstract_fired: 95103, force_multiuse_fired: 622 }
Cost before: 1243413
0: utility: 80798 | final_cost: 1162209 | 1.07x | uses: 268 | body: [fn_7 arity=3: (fn_0 #2 (#1 t (r #0) t))]
post stuff: 9ms
Chose Invention fn_7: utility: 80798 | final_cost: 1162209 | 1.07x | uses: 268 | body: [fn_7 arity=3: (fn_0 #2 (#1 t (r #0) t))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 5ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 238ms
126003 zips
arg_of_zid_node size: 126003
Tracking setup: 0ms
arity 0: 3ms
got 816 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 253ms
running pattern search...
TOTAL SEARCH: 916ms
TOTAL PREP + SEARCH: 1170ms
Stats { worklist_steps: 102400, finished: 2, calc_final_utility: 8720, upper_bound_fired: 13947, free_vars_fired: 0, single_use_fired: 13063, single_task_fired: 3638, useless_abstract_fired: 74349, force_multiuse_fired: 375 }
Cost before: 1162209
0: utility: 78679 | final_cost: 1083126 | 1.07x | uses: 261 | body: [fn_8 arity=1: (fn_1 r l (#0 h))]
post stuff: 8ms
Chose Invention fn_8: utility: 78679 | final_cost: 1083126 | 1.07x | uses: 261 | body: [fn_8 arity=1: (fn_1 r l (#0 h))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 5ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 207ms
116999 zips
arg_of_zid_node size: 116999
Tracking setup: 0ms
arity 0: 3ms
got 791 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 223ms
running pattern search...
TOTAL SEARCH: 904ms
TOTAL PREP + SEARCH: 1127ms
Stats { worklist_steps: 91950, finished: 3, calc_final_utility: 10477, upper_bound_fired: 12437, free_vars_fired: 0, single_use_fired: 16697, single_task_fired: 3546, useless_abstract_fired: 71565, force_multiuse_fired: 308 }
Cost before: 1083126
0: utility: 49287 | final_cost: 1033434 | 1.05x | uses: 164 | body: [fn_9 arity=2: (fn_6 r 4 (fn_0 #1 #0))]
post stuff: 9ms
Chose Invention fn_9: utility: 49287 | final_cost: 1033434 | 1.05x | uses: 164 | body: [fn_9 arity=2: (fn_6 r 4 (fn_0 #1 #0))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (3.14x better) 3245536 -> 1033434
[38;5;4mfn_0[0m (1.25x wrt orig): utility: 651550 | final_cost: 2593480 | 1.25x | uses: 1614 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
[38;5;4mfn_1[0m (1.49x wrt orig): utility: 414701 | final_cost: 2177764 | 1.19x | uses: 343 | body: [fn_1 arity=3: (#2 (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4mfn_2[0m (1.69x wrt orig): utility: 250378 | final_cost: 1925668 | 1.13x | uses: 156 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
[38;5;4mfn_3[0m (1.88x wrt orig): utility: 199273 | final_cost: 1725587 | 1.12x | uses: 283 | body: [fn_3 arity=1: (fn_0 5 (#0 (l 5) t (r 6) t))]
[38;5;4mfn_4[0m (2.11x wrt orig): utility: 187150 | final_cost: 1536717 | 1.12x | uses: 174 | body: [fn_4 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
[38;5;4mfn_5[0m (2.38x wrt orig): utility: 172609 | final_cost: 1363098 | 1.13x | uses: 191 | body: [fn_5 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4mfn_6[0m (2.61x wrt orig): utility: 119279 | final_cost: 1243413 | 1.10x | uses: 395 | body: [fn_6 arity=3: (#2 (r #1) h (#0 4) h)]
[38;5;4mfn_7[0m (2.79x wrt orig): utility: 80798 | final_cost: 1162209 | 1.07x | uses: 268 | body: [fn_7 arity=3: (fn_0 #2 (#1 t (r #0) t))]
[38;5;4mfn_8[0m (3.00x wrt orig): utility: 78679 | final_cost: 1083126 | 1.07x | uses: 261 | body: [fn_8 arity=1: (fn_1 r l (#0 h))]
[38;5;4mfn_9[0m (3.14x wrt orig): utility: 49287 | final_cost: 1033434 | 1.05x | uses: 164 | body: [fn_9 arity=2: (fn_6 r 4 (fn_0 #1 #0))]
Time: 36714ms
Test set compression with all inventions applied: 3.1326741418284705
Wrote to "claim-2-out-50/city/27.json"
	Command being timed: "../target/release/compress city-27-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/city/27.json"
	User time (seconds): 36.81
	System time (seconds): 0.19
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:37.03
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 427360
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 136281
	Voluntary context switches: 0
	Involuntary context switches: 3707
	Swaps: 0
	File system inputs: 0
	File system outputs: 5344
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
