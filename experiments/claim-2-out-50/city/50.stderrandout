[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 32521
	 max depth: 219
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 27067
	 max depth: 184
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 9ms
got roots, treenodes, and cloned egraph contents: 51ms
num_paths_to_node(): 8ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 1847ms
871 zips
arg_of_zid_node size: 871
Tracking setup: 0ms
arity 0: 11ms
got 2192 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1934ms
running pattern search...
TOTAL SEARCH: 9502ms
TOTAL PREP + SEARCH: 11436ms
Stats { worklist_steps: 350677, finished: 8, calc_final_utility: 22504, upper_bound_fired: 41912, free_vars_fired: 0, single_use_fired: 30774, single_task_fired: 11603, useless_abstract_fired: 223203, force_multiuse_fired: 2040 }
Cost before: 3226144
0: utility: 624482 | final_cost: 2601156 | 1.24x | uses: 1547 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
post stuff: 44ms
Chose Invention fn_0: utility: 624482 | final_cost: 2601156 | 1.24x | uses: 1547 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 9ms
got roots, treenodes, and cloned egraph contents: 29ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1867ms
520243 zips
arg_of_zid_node size: 520243
Tracking setup: 0ms
arity 0: 5ms
got 1701 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1918ms
running pattern search...
TOTAL SEARCH: 4283ms
TOTAL PREP + SEARCH: 6202ms
Stats { worklist_steps: 202167, finished: 7, calc_final_utility: 17083, upper_bound_fired: 20697, free_vars_fired: 0, single_use_fired: 14604, single_task_fired: 8746, useless_abstract_fired: 125550, force_multiuse_fired: 1026 }
Cost before: 2601156
0: utility: 456621 | final_cost: 2143020 | 1.21x | uses: 324 | body: [fn_1 arity=1: (#0 (r 1) t (l 2) t (r 6) t (l 2) t (r 1) h)]
post stuff: 14ms
Chose Invention fn_1: utility: 456621 | final_cost: 2143020 | 1.21x | uses: 324 | body: [fn_1 arity=1: (#0 (r 1) t (l 2) t (r 6) t (l 2) t (r 1) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 22ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1164ms
430277 zips
arg_of_zid_node size: 430277
Tracking setup: 0ms
arity 0: 4ms
got 1458 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1203ms
running pattern search...
TOTAL SEARCH: 3308ms
TOTAL PREP + SEARCH: 4512ms
Stats { worklist_steps: 181599, finished: 6, calc_final_utility: 15404, upper_bound_fired: 18028, free_vars_fired: 0, single_use_fired: 15551, single_task_fired: 7762, useless_abstract_fired: 118465, force_multiuse_fired: 970 }
Cost before: 2143020
0: utility: 243914 | final_cost: 1897388 | 1.13x | uses: 152 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
post stuff: 13ms
Chose Invention fn_2: utility: 243914 | final_cost: 1897388 | 1.13x | uses: 152 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 21ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 905ms
325655 zips
arg_of_zid_node size: 325655
Tracking setup: 0ms
arity 0: 4ms
got 1276 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 941ms
running pattern search...
TOTAL SEARCH: 3316ms
TOTAL PREP + SEARCH: 4257ms
Stats { worklist_steps: 205183, finished: 5, calc_final_utility: 16557, upper_bound_fired: 19719, free_vars_fired: 0, single_use_fired: 21716, single_task_fired: 7532, useless_abstract_fired: 132147, force_multiuse_fired: 1056 }
Cost before: 1897388
0: utility: 197452 | final_cost: 1698216 | 1.12x | uses: 184 | body: [fn_3 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
post stuff: 9ms
Chose Invention fn_3: utility: 197452 | final_cost: 1698216 | 1.12x | uses: 184 | body: [fn_3 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 17ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 712ms
271613 zips
arg_of_zid_node size: 271613
Tracking setup: 0ms
arity 0: 4ms
got 1168 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 745ms
running pattern search...
TOTAL SEARCH: 2100ms
TOTAL PREP + SEARCH: 2845ms
Stats { worklist_steps: 120492, finished: 6, calc_final_utility: 12132, upper_bound_fired: 14661, free_vars_fired: 0, single_use_fired: 16459, single_task_fired: 6098, useless_abstract_fired: 83182, force_multiuse_fired: 503 }
Cost before: 1698216
0: utility: 173518 | final_cost: 1523688 | 1.11x | uses: 192 | body: [fn_4 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
post stuff: 9ms
Chose Invention fn_4: utility: 173518 | final_cost: 1523688 | 1.11x | uses: 192 | body: [fn_4 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 11ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 576ms
238801 zips
arg_of_zid_node size: 238801
Tracking setup: 0ms
arity 0: 3ms
got 1058 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 600ms
running pattern search...
TOTAL SEARCH: 1249ms
TOTAL PREP + SEARCH: 1850ms
Stats { worklist_steps: 65435, finished: 4, calc_final_utility: 7447, upper_bound_fired: 12063, free_vars_fired: 0, single_use_fired: 8326, single_task_fired: 5518, useless_abstract_fired: 53682, force_multiuse_fired: 428 }
Cost before: 1523688
0: utility: 166142 | final_cost: 1357038 | 1.12x | uses: 330 | body: [fn_5 arity=3: (fn_0 #1 (#2 (l #1) t (r #0) t))]
post stuff: 11ms
Chose Invention fn_5: utility: 166142 | final_cost: 1357038 | 1.12x | uses: 330 | body: [fn_5 arity=3: (fn_0 #1 (#2 (l #1) t (r #0) t))]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 4ms
got roots, treenodes, and cloned egraph contents: 9ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 377ms
183789 zips
arg_of_zid_node size: 183789
Tracking setup: 0ms
arity 0: 3ms
got 956 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 398ms
running pattern search...
TOTAL SEARCH: 1030ms
TOTAL PREP + SEARCH: 1428ms
Stats { worklist_steps: 59342, finished: 2, calc_final_utility: 7457, upper_bound_fired: 10927, free_vars_fired: 0, single_use_fired: 8914, single_task_fired: 4894, useless_abstract_fired: 52283, force_multiuse_fired: 380 }
Cost before: 1357038
0: utility: 113826 | final_cost: 1242908 | 1.09x | uses: 565 | body: [fn_6 arity=2: (#1 h (#0 4) h)]
post stuff: 14ms
Chose Invention fn_6: utility: 113826 | final_cost: 1242908 | 1.09x | uses: 565 | body: [fn_6 arity=2: (#1 h (#0 4) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 7ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 292ms
161389 zips
arg_of_zid_node size: 161389
Tracking setup: 0ms
arity 0: 3ms
got 838 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 309ms
running pattern search...
TOTAL SEARCH: 826ms
TOTAL PREP + SEARCH: 1136ms
Stats { worklist_steps: 57066, finished: 4, calc_final_utility: 7297, upper_bound_fired: 10971, free_vars_fired: 0, single_use_fired: 9986, single_task_fired: 4243, useless_abstract_fired: 47424, force_multiuse_fired: 335 }
Cost before: 1242908
0: utility: 82817 | final_cost: 1159583 | 1.07x | uses: 165 | body: [fn_7 arity=3: (#2 (r #0) t (l #1) t (r #0))]
post stuff: 9ms
Chose Invention fn_7: utility: 82817 | final_cost: 1159583 | 1.07x | uses: 165 | body: [fn_7 arity=3: (#2 (r #0) t (l #1) t (r #0))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 6ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 242ms
136069 zips
arg_of_zid_node size: 136069
Tracking setup: 0ms
arity 0: 3ms
got 757 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 259ms
running pattern search...
TOTAL SEARCH: 720ms
TOTAL PREP + SEARCH: 980ms
Stats { worklist_steps: 57395, finished: 3, calc_final_utility: 7055, upper_bound_fired: 11134, free_vars_fired: 0, single_use_fired: 12151, single_task_fired: 3875, useless_abstract_fired: 50938, force_multiuse_fired: 244 }
Cost before: 1159583
0: utility: 63730 | final_cost: 1095347 | 1.06x | uses: 159 | body: [fn_8 arity=2: (fn_6 r (fn_0 #1 #0 (r 4)))]
post stuff: 9ms
Chose Invention fn_8: utility: 63730 | final_cost: 1095347 | 1.06x | uses: 159 | body: [fn_8 arity=2: (fn_6 r (fn_0 #1 #0 (r 4)))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 7ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 218ms
118209 zips
arg_of_zid_node size: 118209
Tracking setup: 0ms
arity 0: 2ms
got 735 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 235ms
running pattern search...
TOTAL SEARCH: 662ms
TOTAL PREP + SEARCH: 897ms
Stats { worklist_steps: 53220, finished: 3, calc_final_utility: 6710, upper_bound_fired: 10492, free_vars_fired: 0, single_use_fired: 9329, single_task_fired: 3770, useless_abstract_fired: 47193, force_multiuse_fired: 266 }
Cost before: 1095347
0: utility: 61200 | final_cost: 1033535 | 1.06x | uses: 68 | body: [fn_9 arity=3: (fn_5 #0 #2 (fn_5 #0 #2 (fn_0 #2 (#1 t (r #0) t))))]
post stuff: 7ms
Chose Invention fn_9: utility: 61200 | final_cost: 1033535 | 1.06x | uses: 68 | body: [fn_9 arity=3: (fn_5 #0 #2 (fn_5 #0 #2 (fn_0 #2 (#1 t (r #0) t))))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (3.12x better) 3226144 -> 1033535
[38;5;4mfn_0[0m (1.24x wrt orig): utility: 624482 | final_cost: 2601156 | 1.24x | uses: 1547 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
[38;5;4mfn_1[0m (1.51x wrt orig): utility: 456621 | final_cost: 2143020 | 1.21x | uses: 324 | body: [fn_1 arity=1: (#0 (r 1) t (l 2) t (r 6) t (l 2) t (r 1) h)]
[38;5;4mfn_2[0m (1.70x wrt orig): utility: 243914 | final_cost: 1897388 | 1.13x | uses: 152 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
[38;5;4mfn_3[0m (1.90x wrt orig): utility: 197452 | final_cost: 1698216 | 1.12x | uses: 184 | body: [fn_3 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
[38;5;4mfn_4[0m (2.12x wrt orig): utility: 173518 | final_cost: 1523688 | 1.11x | uses: 192 | body: [fn_4 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4mfn_5[0m (2.38x wrt orig): utility: 166142 | final_cost: 1357038 | 1.12x | uses: 330 | body: [fn_5 arity=3: (fn_0 #1 (#2 (l #1) t (r #0) t))]
[38;5;4mfn_6[0m (2.60x wrt orig): utility: 113826 | final_cost: 1242908 | 1.09x | uses: 565 | body: [fn_6 arity=2: (#1 h (#0 4) h)]
[38;5;4mfn_7[0m (2.78x wrt orig): utility: 82817 | final_cost: 1159583 | 1.07x | uses: 165 | body: [fn_7 arity=3: (#2 (r #0) t (l #1) t (r #0))]
[38;5;4mfn_8[0m (2.95x wrt orig): utility: 63730 | final_cost: 1095347 | 1.06x | uses: 159 | body: [fn_8 arity=2: (fn_6 r (fn_0 #1 #0 (r 4)))]
[38;5;4mfn_9[0m (3.12x wrt orig): utility: 61200 | final_cost: 1033535 | 1.06x | uses: 68 | body: [fn_9 arity=3: (fn_5 #0 #2 (fn_5 #0 #2 (fn_0 #2 (#1 t (r #0) t))))]
Time: 36584ms
Test set compression with all inventions applied: 3.0997951398188834
Wrote to "claim-2-out-50/city/50.json"
	Command being timed: "../target/release/compress city-50-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/city/50.json"
	User time (seconds): 36.61
	System time (seconds): 0.28
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:36.91
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 428800
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 205614
	Voluntary context switches: 1
	Involuntary context switches: 3659
	Swaps: 0
	File system inputs: 0
	File system outputs: 5232
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
