[38;5;4;1m**********[0m
[38;5;4;1m* Stitch *[0m
[38;5;4;1m**********[0m
Programs:
	 num: 200
	 max cost: 29491
	 max depth: 199
> Running with train/test split active
Programs:
	 num: 50
	 max cost: 32521
	 max depth: 219
[38;5;4;1m
=======Iteration 0=======[0m
set up egraph: 9ms
got roots, treenodes, and cloned egraph contents: 55ms
num_paths_to_node(): 7ms
associate_tasks() and other task stuff: 3ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 1ms
get_zippers(): 1567ms
791 zips
arg_of_zid_node size: 791
Tracking setup: 0ms
arity 0: 6ms
got 2153 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1651ms
running pattern search...
TOTAL SEARCH: 8589ms
TOTAL PREP + SEARCH: 10240ms
Stats { worklist_steps: 300617, finished: 8, calc_final_utility: 19785, upper_bound_fired: 38715, free_vars_fired: 0, single_use_fired: 22800, single_task_fired: 11918, useless_abstract_fired: 206765, force_multiuse_fired: 1872 }
Cost before: 3239981
0: utility: 662862 | final_cost: 2576613 | 1.26x | uses: 1642 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
post stuff: 46ms
Chose Invention fn_0: utility: 662862 | final_cost: 2576613 | 1.26x | uses: 1642 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
[38;5;4;1m
=======Iteration 1=======[0m
set up egraph: 8ms
got roots, treenodes, and cloned egraph contents: 31ms
num_paths_to_node(): 3ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 2032ms
519711 zips
arg_of_zid_node size: 519711
Tracking setup: 0ms
arity 0: 5ms
got 1659 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 2085ms
running pattern search...
TOTAL SEARCH: 4224ms
TOTAL PREP + SEARCH: 6310ms
Stats { worklist_steps: 197655, finished: 5, calc_final_utility: 16263, upper_bound_fired: 19658, free_vars_fired: 0, single_use_fired: 14739, single_task_fired: 8892, useless_abstract_fired: 124391, force_multiuse_fired: 1046 }
Cost before: 2576613
0: utility: 407429 | final_cost: 2168169 | 1.19x | uses: 337 | body: [fn_1 arity=3: (#2 (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
post stuff: 15ms
Chose Invention fn_1: utility: 407429 | final_cost: 2168169 | 1.19x | uses: 337 | body: [fn_1 arity=3: (#2 (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4;1m
=======Iteration 2=======[0m
set up egraph: 7ms
got roots, treenodes, and cloned egraph contents: 22ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 2ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 1382ms
426099 zips
arg_of_zid_node size: 426099
Tracking setup: 0ms
arity 0: 8ms
got 1366 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 1426ms
running pattern search...
TOTAL SEARCH: 3495ms
TOTAL PREP + SEARCH: 4922ms
Stats { worklist_steps: 186104, finished: 8, calc_final_utility: 15596, upper_bound_fired: 19093, free_vars_fired: 0, single_use_fired: 14251, single_task_fired: 7640, useless_abstract_fired: 124713, force_multiuse_fired: 940 }
Cost before: 2168169
0: utility: 247146 | final_cost: 1919305 | 1.13x | uses: 154 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
post stuff: 15ms
Chose Invention fn_2: utility: 247146 | final_cost: 1919305 | 1.13x | uses: 154 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
[38;5;4;1m
=======Iteration 3=======[0m
set up egraph: 6ms
got roots, treenodes, and cloned egraph contents: 17ms
num_paths_to_node(): 4ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 865ms
310437 zips
arg_of_zid_node size: 310437
Tracking setup: 0ms
arity 0: 4ms
got 1173 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 900ms
running pattern search...
TOTAL SEARCH: 3198ms
TOTAL PREP + SEARCH: 4098ms
Stats { worklist_steps: 199196, finished: 5, calc_final_utility: 16086, upper_bound_fired: 20476, free_vars_fired: 0, single_use_fired: 18146, single_task_fired: 6994, useless_abstract_fired: 132860, force_multiuse_fired: 981 }
Cost before: 1919305
0: utility: 207757 | final_cost: 1710740 | 1.12x | uses: 295 | body: [fn_3 arity=1: (fn_0 5 (#0 (l 5) t (r 6) t))]
post stuff: 13ms
Chose Invention fn_3: utility: 207757 | final_cost: 1710740 | 1.12x | uses: 295 | body: [fn_3 arity=1: (fn_0 5 (#0 (l 5) t (r 6) t))]
[38;5;4;1m
=======Iteration 4=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 15ms
num_paths_to_node(): 2ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 685ms
253197 zips
arg_of_zid_node size: 253197
Tracking setup: 0ms
arity 0: 3ms
got 1095 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 714ms
running pattern search...
TOTAL SEARCH: 2813ms
TOTAL PREP + SEARCH: 3527ms
Stats { worklist_steps: 184837, finished: 9, calc_final_utility: 14382, upper_bound_fired: 17823, free_vars_fired: 0, single_use_fired: 17876, single_task_fired: 6474, useless_abstract_fired: 125354, force_multiuse_fired: 979 }
Cost before: 1710740
0: utility: 188867 | final_cost: 1520153 | 1.13x | uses: 174 | body: [fn_4 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
post stuff: 9ms
Chose Invention fn_4: utility: 188867 | final_cost: 1520153 | 1.13x | uses: 174 | body: [fn_4 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
[38;5;4;1m
=======Iteration 5=======[0m
set up egraph: 5ms
got roots, treenodes, and cloned egraph contents: 14ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 482ms
209537 zips
arg_of_zid_node size: 209537
Tracking setup: 0ms
arity 0: 3ms
got 972 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 508ms
running pattern search...
TOTAL SEARCH: 1511ms
TOTAL PREP + SEARCH: 2020ms
Stats { worklist_steps: 98964, finished: 6, calc_final_utility: 9204, upper_bound_fired: 13421, free_vars_fired: 0, single_use_fired: 14108, single_task_fired: 5537, useless_abstract_fired: 72359, force_multiuse_fired: 439 }
Cost before: 1520153
0: utility: 168064 | final_cost: 1351079 | 1.13x | uses: 186 | body: [fn_5 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
post stuff: 9ms
Chose Invention fn_5: utility: 168064 | final_cost: 1351079 | 1.13x | uses: 186 | body: [fn_5 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4;1m
=======Iteration 6=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 9ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 358ms
184399 zips
arg_of_zid_node size: 184399
Tracking setup: 0ms
arity 0: 2ms
got 900 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 378ms
running pattern search...
TOTAL SEARCH: 1186ms
TOTAL PREP + SEARCH: 1564ms
Stats { worklist_steps: 87663, finished: 3, calc_final_utility: 8335, upper_bound_fired: 13422, free_vars_fired: 0, single_use_fired: 10878, single_task_fired: 4843, useless_abstract_fired: 68895, force_multiuse_fired: 574 }
Cost before: 1351079
0: utility: 115946 | final_cost: 1234727 | 1.09x | uses: 384 | body: [fn_6 arity=3: (#2 (r #1) h (#0 4) h)]
post stuff: 13ms
Chose Invention fn_6: utility: 115946 | final_cost: 1234727 | 1.09x | uses: 384 | body: [fn_6 arity=3: (#2 (r #1) h (#0 4) h)]
[38;5;4;1m
=======Iteration 7=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 6ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 251ms
134709 zips
arg_of_zid_node size: 134709
Tracking setup: 0ms
arity 0: 3ms
got 778 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 267ms
running pattern search...
TOTAL SEARCH: 1191ms
TOTAL PREP + SEARCH: 1459ms
Stats { worklist_steps: 128484, finished: 3, calc_final_utility: 9974, upper_bound_fired: 17700, free_vars_fired: 0, single_use_fired: 16226, single_task_fired: 4049, useless_abstract_fired: 91274, force_multiuse_fired: 607 }
Cost before: 1234727
0: utility: 83828 | final_cost: 1150493 | 1.07x | uses: 278 | body: [fn_7 arity=3: (fn_0 #2 (#1 t (r #0) t))]
post stuff: 9ms
Chose Invention fn_7: utility: 83828 | final_cost: 1150493 | 1.07x | uses: 278 | body: [fn_7 arity=3: (fn_0 #2 (#1 t (r #0) t))]
[38;5;4;1m
=======Iteration 8=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 6ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 213ms
119813 zips
arg_of_zid_node size: 119813
Tracking setup: 0ms
arity 0: 2ms
got 736 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 228ms
running pattern search...
TOTAL SEARCH: 912ms
TOTAL PREP + SEARCH: 1140ms
Stats { worklist_steps: 99382, finished: 2, calc_final_utility: 8536, upper_bound_fired: 14189, free_vars_fired: 0, single_use_fired: 12924, single_task_fired: 3753, useless_abstract_fired: 72984, force_multiuse_fired: 366 }
Cost before: 1150493
0: utility: 78679 | final_cost: 1071410 | 1.07x | uses: 261 | body: [fn_8 arity=1: (fn_1 r l (#0 h))]
post stuff: 8ms
Chose Invention fn_8: utility: 78679 | final_cost: 1071410 | 1.07x | uses: 261 | body: [fn_8 arity=1: (fn_1 r l (#0 h))]
[38;5;4;1m
=======Iteration 9=======[0m
set up egraph: 3ms
got roots, treenodes, and cloned egraph contents: 5ms
num_paths_to_node(): 1ms
associate_tasks() and other task stuff: 1ms
num unique tasks: 200
num unique programs: 200
cost_of_node structs: 0ms
get_zippers(): 177ms
111465 zips
arg_of_zid_node size: 111465
Tracking setup: 0ms
arity 0: 2ms
got 709 arity zero inventions
built SharedData: 0ms
TOTAL PREP: 192ms
running pattern search...
TOTAL SEARCH: 819ms
TOTAL PREP + SEARCH: 1012ms
Stats { worklist_steps: 79544, finished: 6, calc_final_utility: 8873, upper_bound_fired: 12350, free_vars_fired: 0, single_use_fired: 15283, single_task_fired: 3642, useless_abstract_fired: 63780, force_multiuse_fired: 295 }
Cost before: 1071410
0: utility: 53530 | final_cost: 1016870 | 1.05x | uses: 60 | body: [fn_9 arity=1: (fn_0 5 (#0 (l 5) t t (r 6) t t))]
post stuff: 6ms
Chose Invention fn_9: utility: 53530 | final_cost: 1016870 | 1.05x | uses: 60 | body: [fn_9 arity=1: (fn_0 5 (#0 (l 5) t t (r 6) t t))]
[38;5;4;1m
=======Compression Summary=======[0m
Found 10 inventions
Cost Improvement: (3.19x better) 3239981 -> 1016870
[38;5;4mfn_0[0m (1.26x wrt orig): utility: 662862 | final_cost: 2576613 | 1.26x | uses: 1642 | body: [fn_0 arity=2: (#1 (l #0) h (r 4) h)]
[38;5;4mfn_1[0m (1.49x wrt orig): utility: 407429 | final_cost: 2168169 | 1.19x | uses: 337 | body: [fn_1 arity=3: (#2 (#0 1) t (#1 2) t (#0 6) t (#1 2) t (#0 1) h)]
[38;5;4mfn_2[0m (1.69x wrt orig): utility: 247146 | final_cost: 1919305 | 1.13x | uses: 154 | body: [fn_2 arity=2: (fn_0 6 (fn_0 10 (fn_0 #1 #0 (r 4) h (r 4) h) (r 4) h) (l 2) h)]
[38;5;4mfn_3[0m (1.89x wrt orig): utility: 207757 | final_cost: 1710740 | 1.12x | uses: 295 | body: [fn_3 arity=1: (fn_0 5 (#0 (l 5) t (r 6) t))]
[38;5;4mfn_4[0m (2.13x wrt orig): utility: 188867 | final_cost: 1520153 | 1.13x | uses: 174 | body: [fn_4 arity=3: (#2 (r 3) t (l 4) t (r #0) h #1 h (r 3) t (l 4) t (r #0) h)]
[38;5;4mfn_5[0m (2.40x wrt orig): utility: 168064 | final_cost: 1351079 | 1.13x | uses: 186 | body: [fn_5 arity=1: (#0 t (r 3) h (l 1) t (l 3) h)]
[38;5;4mfn_6[0m (2.62x wrt orig): utility: 115946 | final_cost: 1234727 | 1.09x | uses: 384 | body: [fn_6 arity=3: (#2 (r #1) h (#0 4) h)]
[38;5;4mfn_7[0m (2.82x wrt orig): utility: 83828 | final_cost: 1150493 | 1.07x | uses: 278 | body: [fn_7 arity=3: (fn_0 #2 (#1 t (r #0) t))]
[38;5;4mfn_8[0m (3.02x wrt orig): utility: 78679 | final_cost: 1071410 | 1.07x | uses: 261 | body: [fn_8 arity=1: (fn_1 r l (#0 h))]
[38;5;4mfn_9[0m (3.19x wrt orig): utility: 53530 | final_cost: 1016870 | 1.05x | uses: 60 | body: [fn_9 arity=1: (fn_0 5 (#0 (l 5) t t (r 6) t t))]
Time: 37459ms
Test set compression with all inventions applied: 2.9662187613311133
Wrote to "claim-2-out-50/city/11.json"
	Command being timed: "../target/release/compress city-11-split.json --hole-choice=depth-first --fmt=split-programs-list --max-arity=3 --iterations=10 --out=claim-2-out-50/city/11.json"
	User time (seconds): 37.36
	System time (seconds): 0.39
	Percent of CPU this job got: 99%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 0:37.77
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 424404
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 217230
	Voluntary context switches: 1
	Involuntary context switches: 3748
	Swaps: 0
	File system inputs: 0
	File system outputs: 5344
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
